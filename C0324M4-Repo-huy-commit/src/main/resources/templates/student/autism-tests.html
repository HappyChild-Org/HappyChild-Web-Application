<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Danh sách bài kiểm tra tự kỷ</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <style>
        .test-card {
            border-radius: 12px;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            margin-bottom: 20px;
            border: none;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .test-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 20px rgba(0, 0, 0, 0.15);
        }

        .test-card .card-header {
            background-color: #4f46ba;
            color: white;
            font-weight: bold;
            padding: 15px 20px;
            font-size: 1.2rem;
        }

        .test-card .card-body {
            padding: 20px;
        }

        .test-badge {
            border-radius: 20px;
            padding: 5px 12px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-right: 10px;
        }

        .btn-take-test {
            background-color: #ff6b6b;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: bold;
            transition: background-color 0.3s ease;
        }

        .btn-take-test:hover {
            background-color: #ff5252;
        }

        .page-title {
            color: #4f46ba;
            font-weight: bold;
            margin-bottom: 30px;
            border-bottom: 3px solid #ff6b6b;
            padding-bottom: 10px;
            display: inline-block;
        }

        .empty-state {
            text-align: center;
            padding: 50px 20px;
            background-color: #f8f9fa;
            border-radius: 12px;
            margin-top: 20px;
        }

        .empty-state i {
            font-size: 5rem;
            color: #dee2e6;
            margin-bottom: 20px;
        }
    </style>
</head>

<body>
    <!-- Navbar -->
    <div th:replace="layout :: nav"></div>

    <div class="container py-5">
        <h1 class="page-title"><i class="fas fa-clipboard-list me-2"></i>Bài kiểm tra đánh giá tự kỷ</h1>

        <div class="row">
            <div class="col-md-12 mb-4">
                <div class="alert alert-info">
                    <i class="fas fa-info-circle me-2"></i> Các bài kiểm tra dưới đây giúp đánh giá sơ bộ về phổ tự kỷ.
                    Kết quả chỉ mang tính chất tham khảo và cần được chuyên gia đánh giá chính thức.
                </div>
            </div>
        </div>

        <div class="row mb-4">
            <div class="col">
                <h2>Danh sách bài test</h2>
            </div>
            <div class="col text-end">
                <a th:href="@{/student/register-child}" class="btn btn-primary">
                    <i class="fas fa-user-plus"></i> Đăng ký thông tin trẻ
                </a>
            </div>
        </div>

        <div class="row" th:if="${not #lists.isEmpty(tests)}">
            <div class="col-md-6 mb-4" th:each="test : ${tests}">
                <div class="card h-100">
                    <div class="card-body">
                        <h5 class="card-title" th:text="${test.testName}">Test Name</h5>
                        <p class="card-text" th:text="${test.description}">Description</p>
                        <p class="card-text">
                            <small class="text-muted">
                                Độ tuổi: <span th:text="${test.ageRangeMin} + ' - ' + ${test.ageRangeMax} + ' tuổi'">Age Range</span>
                            </small>
                        </p>
                        <a th:href="@{/autism-test/test/{id}(id=${test.id})}" class="btn btn-primary">
                            <i class="fas fa-play"></i> Bắt đầu làm test
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="row" th:if="${#lists.isEmpty(tests)}">
            <div class="col">
                <div class="alert alert-info">
                    <i class="fas fa-info-circle"></i> Không có bài test nào phù hợp với độ tuổi của trẻ.
                    <a th:href="@{/student/register-child}" class="alert-link">Đăng ký thông tin trẻ</a> để xem các bài test phù hợp.
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div th:replace="layout :: footer"></div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>