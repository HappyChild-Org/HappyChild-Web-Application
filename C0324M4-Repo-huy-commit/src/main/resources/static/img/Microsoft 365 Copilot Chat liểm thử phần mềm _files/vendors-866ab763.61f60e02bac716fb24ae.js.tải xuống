/*! For license information please see vendors-866ab763.61f60e02bac716fb24ae.js.LICENSE.txt */
"use strict";(self.webpackChunkstandalone_copilot=self.webpackChunkstandalone_copilot||[]).push([[9936],{76114:(e,t,s)=>{s.d(t,{m:()=>r});var i=s(96868),n=s(57762);const r=new class extends i.Q{constructor(){super(),this.setup=e=>{if(!n.S$&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),window.addEventListener("focus",t,!1),()=>{window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)}setEventListener(e){var t;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach((({listener:e})=>{e()}))}isFocused(){return"boolean"==typeof this.focused?this.focused:"undefined"==typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)}}},61503:(e,t,s)=>{s.d(t,{U:()=>i});const i=console},51614:(e,t,s)=>{s.d(t,{$:()=>c,s:()=>a});var i=s(61503),n=s(31721),r=s(13478),o=s(39302);class a extends r.k{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||i.U,this.observers=[],this.state=e.state||c(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter((t=>t!==e)),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||("loading"===this.state.status?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,t;return null!=(e=null==(t=this.retryer)?void 0:t.continue())?e:this.execute()}async execute(){const e=()=>{var e;return this.retryer=(0,o.II)({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(e,t)=>{this.dispatch({type:"failed",failureCount:e,error:t})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:null!=(e=this.options.retry)?e:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},t="loading"===this.state.status;try{var s,i,n,r,a,c,u,l;if(!t){var h,d,f,p;this.dispatch({type:"loading",variables:this.options.variables}),await(null==(h=(d=this.mutationCache.config).onMutate)?void 0:h.call(d,this.state.variables,this));const e=await(null==(f=(p=this.options).onMutate)?void 0:f.call(p,this.state.variables));e!==this.state.context&&this.dispatch({type:"loading",context:e,variables:this.state.variables})}const o=await e();return await(null==(s=(i=this.mutationCache.config).onSuccess)?void 0:s.call(i,o,this.state.variables,this.state.context,this)),await(null==(n=(r=this.options).onSuccess)?void 0:n.call(r,o,this.state.variables,this.state.context)),await(null==(a=(c=this.mutationCache.config).onSettled)?void 0:a.call(c,o,null,this.state.variables,this.state.context,this)),await(null==(u=(l=this.options).onSettled)?void 0:u.call(l,o,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:o}),o}catch(e){try{var m,v,_,b,g,y,w,E;throw await(null==(m=(v=this.mutationCache.config).onError)?void 0:m.call(v,e,this.state.variables,this.state.context,this)),await(null==(_=(b=this.options).onError)?void 0:_.call(b,e,this.state.variables,this.state.context)),await(null==(g=(y=this.mutationCache.config).onSettled)?void 0:g.call(y,void 0,e,this.state.variables,this.state.context,this)),await(null==(w=(E=this.options).onSettled)?void 0:w.call(E,void 0,e,this.state.variables,this.state.context)),e}finally{this.dispatch({type:"error",error:e})}}}dispatch(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"loading":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!(0,o.v_)(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...t,...e.state}}})(this.state),n.j.batch((()=>{this.observers.forEach((t=>{t.onMutationUpdate(e)})),this.mutationCache.notify({mutation:this,type:"updated",action:e})}))}}function c(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}},31721:(e,t,s)=>{s.d(t,{j:()=>n});var i=s(57762);const n=function(){let e=[],t=0,s=e=>{e()},n=e=>{e()};const r=n=>{t?e.push(n):(0,i.G6)((()=>{s(n)}))};return{batch:r=>{let o;t++;try{o=r()}finally{t--,t||(()=>{const t=e;e=[],t.length&&(0,i.G6)((()=>{n((()=>{t.forEach((e=>{s(e)}))}))}))})()}return o},batchCalls:e=>(...t)=>{r((()=>{e(...t)}))},schedule:r,setNotifyFunction:e=>{s=e},setBatchNotifyFunction:e=>{n=e}}}()},25775:(e,t,s)=>{s.d(t,{t:()=>o});var i=s(96868),n=s(57762);const r=["online","offline"],o=new class extends i.Q{constructor(){super(),this.setup=e=>{if(!n.S$&&window.addEventListener){const t=()=>e();return r.forEach((e=>{window.addEventListener(e,t,!1)})),()=>{r.forEach((e=>{window.removeEventListener(e,t)}))}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)}setEventListener(e){var t;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((e=>{"boolean"==typeof e?this.setOnline(e):this.onOnline()}))}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach((({listener:e})=>{e()}))}isOnline(){return"boolean"==typeof this.online?this.online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine}}},11878:(e,t,s)=>{s.d(t,{E:()=>v});var i=s(57762),n=s(61503),r=s(31721),o=s(39302),a=s(13478);class c extends a.k{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||n.U,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||function(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,s=void 0!==t,i=s?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?null!=i?i:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"loading",fetchStatus:"idle"}}(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.cache.remove(this)}setData(e,t){const s=(0,i.pl)(this.state.data,e,this.options);return this.dispatch({data:s,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),s}setState(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})}cancel(e){var t;const s=this.promise;return null==(t=this.retryer)||t.cancel(e),s?s.then(i.lQ).catch(i.lQ):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some((e=>!1!==e.options.enabled))}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some((e=>e.getCurrentResult().isStale))}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!(0,i.j3)(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find((e=>e.shouldFetchOnWindowFocus()));t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}onOnline(){var e;const t=this.observers.find((e=>e.shouldFetchOnReconnect()));t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,t){var s,n;if("idle"!==this.state.fetchStatus)if(this.state.dataUpdatedAt&&null!=t&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var r;return null==(r=this.retryer)||r.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}const a=(0,i.jY)(),c={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},u=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>{if(a)return this.abortSignalConsumed=!0,a.signal}})};u(c);const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(c)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'")};var h;u(l),null==(s=this.options.behavior)||s.onFetch(l),this.revertState=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==(null==(n=l.fetchOptions)?void 0:n.meta))&&this.dispatch({type:"fetch",meta:null==(h=l.fetchOptions)?void 0:h.meta});const d=e=>{var t,s,i,n;(0,o.wm)(e)&&e.silent||this.dispatch({type:"error",error:e}),(0,o.wm)(e)||(null==(t=(s=this.cache.config).onError)||t.call(s,e,this),null==(i=(n=this.cache.config).onSettled)||i.call(n,this.state.data,e,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=(0,o.II)({fn:l.fetchFn,abort:null==a?void 0:a.abort.bind(a),onSuccess:e=>{var t,s,i,n;void 0!==e?(this.setData(e),null==(t=(s=this.cache.config).onSuccess)||t.call(s,e,this),null==(i=(n=this.cache.config).onSettled)||i.call(n,e,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1):d(new Error(this.queryHash+" data is undefined"))},onError:d,onFail:(e,t)=>{this.dispatch({type:"failed",failureCount:e,error:t})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){this.state=(t=>{var s,i;switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null!=(s=e.meta)?s:null,fetchStatus:(0,o.v_)(this.options.networkMode)?"fetching":"paused",...!t.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:null!=(i=e.dataUpdatedAt)?i:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return(0,o.wm)(n)&&n.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...t,error:n,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),r.j.batch((()=>{this.observers.forEach((t=>{t.onQueryUpdate(e)})),this.cache.notify({query:this,type:"updated",action:e})}))}}var u=s(96868);class l extends u.Q{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,t,s){var n;const r=t.queryKey,o=null!=(n=t.queryHash)?n:(0,i.F$)(r,t);let a=this.get(o);return a||(a=new c({cache:this,logger:e.getLogger(),queryKey:r,queryHash:o,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter((t=>t!==e)),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){r.j.batch((()=>{this.queries.forEach((e=>{this.remove(e)}))}))}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,t){const[s]=(0,i.b_)(e,t);return void 0===s.exact&&(s.exact=!0),this.queries.find((e=>(0,i.MK)(s,e)))}findAll(e,t){const[s]=(0,i.b_)(e,t);return Object.keys(s).length>0?this.queries.filter((e=>(0,i.MK)(s,e))):this.queries}notify(e){r.j.batch((()=>{this.listeners.forEach((({listener:t})=>{t(e)}))}))}onFocus(){r.j.batch((()=>{this.queries.forEach((e=>{e.onFocus()}))}))}onOnline(){r.j.batch((()=>{this.queries.forEach((e=>{e.onOnline()}))}))}}var h=s(51614);class d extends u.Q{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,t,s){const i=new h.s({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:s,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0});return this.add(i),i}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter((t=>t!==e)),this.notify({type:"removed",mutation:e})}clear(){r.j.batch((()=>{this.mutations.forEach((e=>{this.remove(e)}))}))}getAll(){return this.mutations}find(e){return void 0===e.exact&&(e.exact=!0),this.mutations.find((t=>(0,i.nJ)(e,t)))}findAll(e){return this.mutations.filter((t=>(0,i.nJ)(e,t)))}notify(e){r.j.batch((()=>{this.listeners.forEach((({listener:t})=>{t(e)}))}))}resumePausedMutations(){var e;return this.resuming=(null!=(e=this.resuming)?e:Promise.resolve()).then((()=>{const e=this.mutations.filter((e=>e.state.isPaused));return r.j.batch((()=>e.reduce(((e,t)=>e.then((()=>t.continue().catch(i.lQ)))),Promise.resolve())))})).then((()=>{this.resuming=void 0})),this.resuming}}var f=s(76114),p=s(25775);function m(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}class v{constructor(e={}){this.queryCache=e.queryCache||new l,this.mutationCache=e.mutationCache||new d,this.logger=e.logger||n.U,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,1===this.mountCount&&(this.unsubscribeFocus=f.m.subscribe((()=>{f.m.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())})),this.unsubscribeOnline=p.t.subscribe((()=>{p.t.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())})))}unmount(){var e,t;this.mountCount--,0===this.mountCount&&(null==(e=this.unsubscribeFocus)||e.call(this),this.unsubscribeFocus=void 0,null==(t=this.unsubscribeOnline)||t.call(this),this.unsubscribeOnline=void 0)}isFetching(e,t){const[s]=(0,i.b_)(e,t);return s.fetchStatus="fetching",this.queryCache.findAll(s).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,t){var s;return null==(s=this.queryCache.find(e,t))?void 0:s.state.data}ensureQueryData(e,t,s){const n=(0,i.vh)(e,t,s),r=this.getQueryData(n.queryKey);return r?Promise.resolve(r):this.fetchQuery(n)}getQueriesData(e){return this.getQueryCache().findAll(e).map((({queryKey:e,state:t})=>[e,t.data]))}setQueryData(e,t,s){const n=this.queryCache.find(e),r=(0,i.Zw)(t,null==n?void 0:n.state.data);if(void 0===r)return;const o=(0,i.vh)(e),a=this.defaultQueryOptions(o);return this.queryCache.build(this,a).setData(r,{...s,manual:!0})}setQueriesData(e,t,s){return r.j.batch((()=>this.getQueryCache().findAll(e).map((({queryKey:e})=>[e,this.setQueryData(e,t,s)]))))}getQueryState(e,t){var s;return null==(s=this.queryCache.find(e,t))?void 0:s.state}removeQueries(e,t){const[s]=(0,i.b_)(e,t),n=this.queryCache;r.j.batch((()=>{n.findAll(s).forEach((e=>{n.remove(e)}))}))}resetQueries(e,t,s){const[n,o]=(0,i.b_)(e,t,s),a=this.queryCache,c={type:"active",...n};return r.j.batch((()=>(a.findAll(n).forEach((e=>{e.reset()})),this.refetchQueries(c,o))))}cancelQueries(e,t,s){const[n,o={}]=(0,i.b_)(e,t,s);void 0===o.revert&&(o.revert=!0);const a=r.j.batch((()=>this.queryCache.findAll(n).map((e=>e.cancel(o)))));return Promise.all(a).then(i.lQ).catch(i.lQ)}invalidateQueries(e,t,s){const[n,o]=(0,i.b_)(e,t,s);return r.j.batch((()=>{var e,t;if(this.queryCache.findAll(n).forEach((e=>{e.invalidate()})),"none"===n.refetchType)return Promise.resolve();const s={...n,type:null!=(e=null!=(t=n.refetchType)?t:n.type)?e:"active"};return this.refetchQueries(s,o)}))}refetchQueries(e,t,s){const[n,o]=(0,i.b_)(e,t,s),a=r.j.batch((()=>this.queryCache.findAll(n).filter((e=>!e.isDisabled())).map((e=>{var t;return e.fetch(void 0,{...o,cancelRefetch:null==(t=null==o?void 0:o.cancelRefetch)||t,meta:{refetchPage:n.refetchPage}})}))));let c=Promise.all(a).then(i.lQ);return null!=o&&o.throwOnError||(c=c.catch(i.lQ)),c}fetchQuery(e,t,s){const n=(0,i.vh)(e,t,s),r=this.defaultQueryOptions(n);void 0===r.retry&&(r.retry=!1);const o=this.queryCache.build(this,r);return o.isStaleByTime(r.staleTime)?o.fetch(r):Promise.resolve(o.state.data)}prefetchQuery(e,t,s){return this.fetchQuery(e,t,s).then(i.lQ).catch(i.lQ)}fetchInfiniteQuery(e,t,s){const n=(0,i.vh)(e,t,s);return n.behavior=function(){return{onFetch:e=>{e.fetchFn=()=>{var t,s,i,n,r,o;const a=null==(t=e.fetchOptions)||null==(s=t.meta)?void 0:s.refetchPage,c=null==(i=e.fetchOptions)||null==(n=i.meta)?void 0:n.fetchMore,u=null==c?void 0:c.pageParam,l="backward"===(null==c?void 0:c.direction),h=(null==(r=e.state.data)?void 0:r.pages)||[],d=(null==(o=e.state.data)?void 0:o.pageParams)||[];let f=d,p=!1;const v=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),_=(e,t,s,i)=>(f=i?[t,...f]:[...f,t],i?[s,...e]:[...e,s]),b=(t,s,i,n)=>{if(p)return Promise.reject("Cancelled");if(void 0===i&&!s&&t.length)return Promise.resolve(t);const r={queryKey:e.queryKey,pageParam:i,meta:e.options.meta};(t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>{var t,s;return null!=(t=e.signal)&&t.aborted?p=!0:null==(s=e.signal)||s.addEventListener("abort",(()=>{p=!0})),e.signal}})})(r);const o=v(r);return Promise.resolve(o).then((e=>_(t,i,e,n)))};let g;if(h.length)if("forward"===(null==c?void 0:c.direction)){const t=void 0!==u,s=t?u:m(e.options,h);g=b(h,t,s)}else if(l){const t=void 0!==u,s=t?u:function(e,t){return null==e.getPreviousPageParam?void 0:e.getPreviousPageParam(t[0],t)}(e.options,h);g=b(h,t,s,!0)}else{f=[];const t=void 0===e.options.getNextPageParam;g=a&&h[0]&&!a(h[0],0,h)?Promise.resolve(_([],d[0],h[0])):b([],t,d[0]);for(let s=1;s<h.length;s++)g=g.then((i=>{if(!a||!h[s]||a(h[s],s,h)){const n=t?d[s]:m(e.options,i);return b(i,t,n)}return Promise.resolve(_(i,d[s],h[s]))}))}else g=b([]);return g.then((e=>({pages:e,pageParams:f})))}}}}(),this.fetchQuery(n)}prefetchInfiniteQuery(e,t,s){return this.fetchInfiniteQuery(e,t,s).then(i.lQ).catch(i.lQ)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,t){const s=this.queryDefaults.find((t=>(0,i.Od)(e)===(0,i.Od)(t.queryKey)));s?s.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})}getQueryDefaults(e){if(!e)return;const t=this.queryDefaults.find((t=>(0,i.Cp)(e,t.queryKey)));return null==t?void 0:t.defaultOptions}setMutationDefaults(e,t){const s=this.mutationDefaults.find((t=>(0,i.Od)(e)===(0,i.Od)(t.mutationKey)));s?s.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})}getMutationDefaults(e){if(!e)return;const t=this.mutationDefaults.find((t=>(0,i.Cp)(e,t.mutationKey)));return null==t?void 0:t.defaultOptions}defaultQueryOptions(e){if(null!=e&&e._defaulted)return e;const t={...this.defaultOptions.queries,...this.getQueryDefaults(null==e?void 0:e.queryKey),...e,_defaulted:!0};return!t.queryHash&&t.queryKey&&(t.queryHash=(0,i.F$)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.useErrorBoundary&&(t.useErrorBoundary=!!t.suspense),t}defaultMutationOptions(e){return null!=e&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(null==e?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}},13478:(e,t,s)=>{s.d(t,{k:()=>n});var i=s(57762);class n{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),(0,i.gn)(this.cacheTime)&&(this.gcTimeout=setTimeout((()=>{this.optionalRemove()}),this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,null!=e?e:i.S$?1/0:3e5)}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}},39302:(e,t,s)=>{s.d(t,{II:()=>l,v_:()=>a,wm:()=>u});var i=s(76114),n=s(25775),r=s(57762);function o(e){return Math.min(1e3*2**e,3e4)}function a(e){return"online"!==(null!=e?e:"online")||n.t.isOnline()}class c{constructor(e){this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}}function u(e){return e instanceof c}function l(e){let t,s,u,l=!1,h=0,d=!1;const f=new Promise(((e,t)=>{s=e,u=t})),p=()=>!i.m.isFocused()||"always"!==e.networkMode&&!n.t.isOnline(),m=i=>{d||(d=!0,null==e.onSuccess||e.onSuccess(i),null==t||t(),s(i))},v=s=>{d||(d=!0,null==e.onError||e.onError(s),null==t||t(),u(s))},_=()=>new Promise((s=>{t=e=>{const t=d||!p();return t&&s(e),t},null==e.onPause||e.onPause()})).then((()=>{t=void 0,d||null==e.onContinue||e.onContinue()})),b=()=>{if(d)return;let t;try{t=e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(m).catch((t=>{var s,i;if(d)return;const n=null!=(s=e.retry)?s:3,a=null!=(i=e.retryDelay)?i:o,c="function"==typeof a?a(h,t):a,u=!0===n||"number"==typeof n&&h<n||"function"==typeof n&&n(h,t);!l&&u?(h++,null==e.onFail||e.onFail(h,t),(0,r.yy)(c).then((()=>{if(p())return _()})).then((()=>{l?v(t):b()}))):v(t)}))};return a(e.networkMode)?b():_().then(b),{promise:f,cancel:t=>{d||(v(new c(t)),null==e.abort||e.abort())},continue:()=>(null==t?void 0:t())?f:Promise.resolve(),cancelRetry:()=>{l=!0},continueRetry:()=>{l=!1}}}},96868:(e,t,s)=>{s.d(t,{Q:()=>i});class i{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const t={listener:e};return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}},57762:(e,t,s)=>{s.d(t,{Cp:()=>m,F$:()=>f,G6:()=>T,GR:()=>u,MK:()=>h,Od:()=>p,S$:()=>i,Zw:()=>r,b_:()=>l,f8:()=>b,gn:()=>o,j3:()=>a,jY:()=>R,lQ:()=>n,nJ:()=>d,pl:()=>O,vh:()=>c,yy:()=>C});const i="undefined"==typeof window||"Deno"in window;function n(){}function r(e,t){return"function"==typeof e?e(t):e}function o(e){return"number"==typeof e&&e>=0&&e!==1/0}function a(e,t){return Math.max(e+(t||0)-Date.now(),0)}function c(e,t,s){return E(e)?"function"==typeof t?{...s,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function u(e,t,s){return E(e)?"function"==typeof t?{...s,mutationKey:e,mutationFn:t}:{...t,mutationKey:e}:"function"==typeof e?{...t,mutationFn:e}:{...e}}function l(e,t,s){return E(e)?[{...t,queryKey:e},s]:[e||{},t]}function h(e,t){const{type:s="all",exact:i,fetchStatus:n,predicate:r,queryKey:o,stale:a}=e;if(E(o))if(i){if(t.queryHash!==f(o,t.options))return!1}else if(!m(t.queryKey,o))return!1;if("all"!==s){const e=t.isActive();if("active"===s&&!e)return!1;if("inactive"===s&&e)return!1}return!("boolean"==typeof a&&t.isStale()!==a||void 0!==n&&n!==t.state.fetchStatus||r&&!r(t))}function d(e,t){const{exact:s,fetching:i,predicate:n,mutationKey:r}=e;if(E(r)){if(!t.options.mutationKey)return!1;if(s){if(p(t.options.mutationKey)!==p(r))return!1}else if(!m(t.options.mutationKey,r))return!1}return!("boolean"==typeof i&&"loading"===t.state.status!==i||n&&!n(t))}function f(e,t){return((null==t?void 0:t.queryKeyHashFn)||p)(e)}function p(e){return JSON.stringify(e,((e,t)=>y(t)?Object.keys(t).sort().reduce(((e,s)=>(e[s]=t[s],e)),{}):t))}function m(e,t){return v(e,t)}function v(e,t){return e===t||typeof e==typeof t&&!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&!Object.keys(t).some((s=>!v(e[s],t[s])))}function _(e,t){if(e===t)return e;const s=g(e)&&g(t);if(s||y(e)&&y(t)){const i=s?e.length:Object.keys(e).length,n=s?t:Object.keys(t),r=n.length,o=s?[]:{};let a=0;for(let i=0;i<r;i++){const r=s?i:n[i];o[r]=_(e[r],t[r]),o[r]===e[r]&&a++}return i===r&&a===i?e:o}return t}function b(e,t){if(e&&!t||t&&!e)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function g(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function y(e){if(!w(e))return!1;const t=e.constructor;if(void 0===t)return!0;const s=t.prototype;return!!w(s)&&!!s.hasOwnProperty("isPrototypeOf")}function w(e){return"[object Object]"===Object.prototype.toString.call(e)}function E(e){return Array.isArray(e)}function C(e){return new Promise((t=>{setTimeout(t,e)}))}function T(e){C(0).then(e)}function R(){if("function"==typeof AbortController)return new AbortController}function O(e,t,s){return null!=s.isDataEqual&&s.isDataEqual(e,t)?e:"function"==typeof s.structuralSharing?s.structuralSharing(e,t):!1!==s.structuralSharing?_(e,t):t}},1007:(e,t,s)=>{s.d(t,{Ht:()=>c,jE:()=>a});var i=s(86326);const n=i.createContext(void 0),r=i.createContext(!1);function o(e,t){return e||(t&&"undefined"!=typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=n),window.ReactQueryClientContext):n)}const a=({context:e}={})=>{const t=i.useContext(o(e,i.useContext(r)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},c=({client:e,children:t,context:s,contextSharing:n=!1})=>{i.useEffect((()=>(e.mount(),()=>{e.unmount()})),[e]);const a=o(s,n);return i.createElement(r.Provider,{value:!s&&n},i.createElement(a.Provider,{value:e},t))}},78677:(e,t,s)=>{s.d(t,{n:()=>d});var i=s(86326),n=s(57762),r=s(51614),o=s(31721),a=s(96868);class c extends a.Q{constructor(e,t){super(),this.client=e,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;const s=this.options;this.options=this.client.defaultMutationOptions(e),(0,n.f8)(s,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),null==(t=this.currentMutation)||t.setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||null==(e=this.currentMutation)||e.removeObserver(this)}onMutationUpdate(e){this.updateResult();const t={listeners:!0};"success"===e.type?t.onSuccess=!0:"error"===e.type&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:void 0!==e?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:(0,r.$)(),t={...e,isLoading:"loading"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset};this.currentResult=t}notify(e){o.j.batch((()=>{var t,s,i,n;if(this.mutateOptions&&this.hasListeners())if(e.onSuccess)null==(t=(s=this.mutateOptions).onSuccess)||t.call(s,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null==(i=(n=this.mutateOptions).onSettled)||i.call(n,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context);else if(e.onError){var r,o,a,c;null==(r=(o=this.mutateOptions).onError)||r.call(o,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null==(a=(c=this.mutateOptions).onSettled)||a.call(c,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}e.listeners&&this.listeners.forEach((({listener:e})=>{e(this.currentResult)}))}))}}var u=s(29007),l=s(1007),h=s(38390);function d(e,t,s){const r=(0,n.GR)(e,t,s),a=(0,l.jE)({context:r.context}),[d]=i.useState((()=>new c(a,r)));i.useEffect((()=>{d.setOptions(r)}),[d,r]);const p=(0,u.r)(i.useCallback((e=>d.subscribe(o.j.batchCalls(e))),[d]),(()=>d.getCurrentResult()),(()=>d.getCurrentResult())),m=i.useCallback(((e,t)=>{d.mutate(e,t).catch(f)}),[d]);if(p.error&&(0,h.G)(d.options.useErrorBoundary,[p.error]))throw p.error;return{...p,mutate:m,mutateAsync:p.mutate}}function f(){}},64257:(e,t,s)=>{s.d(t,{I:()=>F});var i=s(57762),n=s(31721),r=s(76114),o=s(96868),a=s(39302);class c extends o.Q{constructor(e,t){super(),this.client=e,this.options=t,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.currentQuery.addObserver(this),u(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return l(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return l(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,t){const s=this.options,n=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),(0,i.f8)(s,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=s.queryKey),this.updateQuery();const r=this.hasListeners();r&&h(this.currentQuery,n,this.options,s)&&this.executeFetch(),this.updateResult(t),!r||this.currentQuery===n&&this.options.enabled===s.enabled&&this.options.staleTime===s.staleTime||this.updateStaleTimeout();const o=this.computeRefetchInterval();!r||this.currentQuery===n&&this.options.enabled===s.enabled&&o===this.currentRefetchInterval||this.updateRefetchInterval(o)}getOptimisticResult(e){const t=this.client.getQueryCache().build(this.client,e),s=this.createResult(t,e);return function(e,t,s){return!s.keepPreviousData&&(void 0!==s.placeholderData?t.isPlaceholderData:!(0,i.f8)(e.getCurrentResult(),t))}(this,s,e)&&(this.currentResult=s,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),s}getCurrentResult(){return this.currentResult}trackResult(e){const t={};return Object.keys(e).forEach((s=>{Object.defineProperty(t,s,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(s),e[s])})})),t}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...t}={}){return this.fetch({...t,meta:{refetchPage:e}})}fetchOptimistic(e){const t=this.client.defaultQueryOptions(e),s=this.client.getQueryCache().build(this.client,t);return s.isFetchingOptimistic=!0,s.fetch().then((()=>this.createResult(s,t)))}fetch(e){var t;return this.executeFetch({...e,cancelRefetch:null==(t=e.cancelRefetch)||t}).then((()=>(this.updateResult(),this.currentResult)))}executeFetch(e){this.updateQuery();let t=this.currentQuery.fetch(this.options,e);return null!=e&&e.throwOnError||(t=t.catch(i.lQ)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),i.S$||this.currentResult.isStale||!(0,i.gn)(this.options.staleTime))return;const e=(0,i.j3)(this.currentResult.dataUpdatedAt,this.options.staleTime);this.staleTimeoutId=setTimeout((()=>{this.currentResult.isStale||this.updateResult()}),e+1)}computeRefetchInterval(){var e;return"function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(e=this.options.refetchInterval)&&e}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!i.S$&&!1!==this.options.enabled&&(0,i.gn)(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval((()=>{(this.options.refetchIntervalInBackground||r.m.isFocused())&&this.executeFetch()}),this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,t){const s=this.currentQuery,n=this.options,r=this.currentResult,o=this.currentResultState,c=this.currentResultOptions,l=e!==s,f=l?e.state:this.currentQueryInitialState,p=l?this.currentResult:this.previousQueryResult,{state:m}=e;let v,{dataUpdatedAt:_,error:b,errorUpdatedAt:g,fetchStatus:y,status:w}=m,E=!1,C=!1;if(t._optimisticResults){const i=this.hasListeners(),r=!i&&u(e,t),o=i&&h(e,s,t,n);(r||o)&&(y=(0,a.v_)(e.options.networkMode)?"fetching":"paused",_||(w="loading")),"isRestoring"===t._optimisticResults&&(y="idle")}if(t.keepPreviousData&&!m.dataUpdatedAt&&null!=p&&p.isSuccess&&"error"!==w)v=p.data,_=p.dataUpdatedAt,w=p.status,E=!0;else if(t.select&&void 0!==m.data)if(r&&m.data===(null==o?void 0:o.data)&&t.select===this.selectFn)v=this.selectResult;else try{this.selectFn=t.select,v=t.select(m.data),v=(0,i.pl)(null==r?void 0:r.data,v,t),this.selectResult=v,this.selectError=null}catch(e){this.selectError=e}else v=m.data;if(void 0!==t.placeholderData&&void 0===v&&"loading"===w){let e;if(null!=r&&r.isPlaceholderData&&t.placeholderData===(null==c?void 0:c.placeholderData))e=r.data;else if(e="function"==typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&void 0!==e)try{e=t.select(e),this.selectError=null}catch(e){this.selectError=e}void 0!==e&&(w="success",v=(0,i.pl)(null==r?void 0:r.data,e,t),C=!0)}this.selectError&&(b=this.selectError,v=this.selectResult,g=Date.now(),w="error");const T="fetching"===y,R="loading"===w,O="error"===w;return{status:w,fetchStatus:y,isLoading:R,isSuccess:"success"===w,isError:O,isInitialLoading:R&&T,data:v,dataUpdatedAt:_,error:b,errorUpdatedAt:g,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>f.dataUpdateCount||m.errorUpdateCount>f.errorUpdateCount,isFetching:T,isRefetching:T&&!R,isLoadingError:O&&0===m.dataUpdatedAt,isPaused:"paused"===y,isPlaceholderData:C,isPreviousData:E,isRefetchError:O&&0!==m.dataUpdatedAt,isStale:d(e,t),refetch:this.refetch,remove:this.remove}}updateResult(e){const t=this.currentResult,s=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,(0,i.f8)(s,t))return;this.currentResult=s;const n={cache:!0};!1!==(null==e?void 0:e.listeners)&&(()=>{if(!t)return!0;const{notifyOnChangeProps:e}=this.options,s="function"==typeof e?e():e;if("all"===s||!s&&!this.trackedProps.size)return!0;const i=new Set(null!=s?s:this.trackedProps);return this.options.useErrorBoundary&&i.add("error"),Object.keys(this.currentResult).some((e=>this.currentResult[e]!==t[e]&&i.has(e)))})()&&(n.listeners=!0),this.notify({...n,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const t={};"success"===e.type?t.onSuccess=!e.manual:"error"!==e.type||(0,a.wm)(e.error)||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(e){n.j.batch((()=>{var t,s,i,n;if(e.onSuccess)null==(t=(s=this.options).onSuccess)||t.call(s,this.currentResult.data),null==(i=(n=this.options).onSettled)||i.call(n,this.currentResult.data,null);else if(e.onError){var r,o,a,c;null==(r=(o=this.options).onError)||r.call(o,this.currentResult.error),null==(a=(c=this.options).onSettled)||a.call(c,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach((({listener:e})=>{e(this.currentResult)})),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})}))}}function u(e,t){return function(e,t){return!(!1===t.enabled||e.state.dataUpdatedAt||"error"===e.state.status&&!1===t.retryOnMount)}(e,t)||e.state.dataUpdatedAt>0&&l(e,t,t.refetchOnMount)}function l(e,t,s){if(!1!==t.enabled){const i="function"==typeof s?s(e):s;return"always"===i||!1!==i&&d(e,t)}return!1}function h(e,t,s,i){return!1!==s.enabled&&(e!==t||!1===i.enabled)&&(!s.suspense||"error"!==e.state.status)&&d(e,s)}function d(e,t){return e.isStaleByTime(t.staleTime)}var f=s(86326),p=s(29007);const m=f.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),v=()=>f.useContext(m);var _=s(1007);const b=f.createContext(!1),g=()=>f.useContext(b);var y=s(38390);const w=(e,t)=>{(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))},E=e=>{f.useEffect((()=>{e.clearReset()}),[e])},C=({result:e,errorResetBoundary:t,useErrorBoundary:s,query:i})=>e.isError&&!t.isReset()&&!e.isFetching&&(0,y.G)(s,[e.error,i]),T=e=>{e.suspense&&"number"!=typeof e.staleTime&&(e.staleTime=1e3)},R=(e,t,s)=>(null==e?void 0:e.suspense)&&((e,t)=>e.isLoading&&e.isFetching&&!t)(t,s),O=(e,t,s)=>t.fetchOptimistic(e).then((({data:t})=>{null==e.onSuccess||e.onSuccess(t),null==e.onSettled||e.onSettled(t,null)})).catch((t=>{s.clearReset(),null==e.onError||e.onError(t),null==e.onSettled||e.onSettled(void 0,t)}));function F(e,t,s){return function(e,t){const s=(0,_.jE)({context:e.context}),i=g(),r=v(),o=s.defaultQueryOptions(e);o._optimisticResults=i?"isRestoring":"optimistic",o.onError&&(o.onError=n.j.batchCalls(o.onError)),o.onSuccess&&(o.onSuccess=n.j.batchCalls(o.onSuccess)),o.onSettled&&(o.onSettled=n.j.batchCalls(o.onSettled)),T(o),w(o,r),E(r);const[a]=f.useState((()=>new t(s,o))),c=a.getOptimisticResult(o);if((0,p.r)(f.useCallback((e=>{const t=i?()=>{}:a.subscribe(n.j.batchCalls(e));return a.updateResult(),t}),[a,i]),(()=>a.getCurrentResult()),(()=>a.getCurrentResult())),f.useEffect((()=>{a.setOptions(o,{listeners:!1})}),[o,a]),R(o,c,i))throw O(o,a,r);if(C({result:c,errorResetBoundary:r,useErrorBoundary:o.useErrorBoundary,query:a.getCurrentQuery()}))throw c.error;return o.notifyOnChangeProps?c:a.trackResult(c)}((0,i.vh)(e,t,s),c)}},29007:(e,t,s)=>{s.d(t,{r:()=>i});const i=s(73634).useSyncExternalStore},38390:(e,t,s)=>{function i(e,t){return"function"==typeof e?e(...t):!!e}s.d(t,{G:()=>i})},35069:(e,t,s)=>{s.d(t,{$d:()=>je,Az:()=>Ke,CP:()=>u,GD:()=>p,K9:()=>h,S:()=>We,U6:()=>ne,_A:()=>Ue,h7:()=>n,hC:()=>Qe,iA:()=>l,mz:()=>Be});var i=s(60135);const n="data-tabster",r=["a[href]","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","*[tabindex]","*[contenteditable]","details > summary","audio[controls]","video[controls]"].join(", "),o=1,a=2,c=3,u={Source:0,Target:1},l={Both:0,Vertical:1,Horizontal:2,Grid:3,GridLinear:4},h={Unlimited:0,Limited:1,LimitedTrapFocus:2};function d(e,t){var s;return null===(s=e.storageEntry(t))||void 0===s?void 0:s.tabster}function f(e,t,s){var i,r;const o=s||e._noop?void 0:t.getAttribute(n);let a,c=e.storageEntry(t);if(o){if(o===(null===(i=null==c?void 0:c.attr)||void 0===i?void 0:i.string))return;try{const e=JSON.parse(o);if("object"!=typeof e)throw new Error(`Value is not a JSON object, got '${o}'.`);a={string:o,object:e}}catch(e){}}else if(!c)return;c||(c=e.storageEntry(t,!0)),c.tabster||(c.tabster={});const u=c.tabster||{},l=(null===(r=c.attr)||void 0===r?void 0:r.object)||{},h=(null==a?void 0:a.object)||{};for(const s of Object.keys(l))if(!h[s]){if("root"===s){const t=u[s];t&&e.root.onRoot(t,!0)}switch(s){case"deloser":case"root":case"groupper":case"modalizer":case"restorer":case"mover":const i=u[s];i&&(i.dispose(),delete u[s]);break;case"observed":delete u[s],e.observedElement&&e.observedElement.onObservedElementUpdate(t);break;case"focusable":case"outline":case"uncontrolled":case"sys":delete u[s]}}for(const s of Object.keys(h)){const i=h.sys;switch(s){case"deloser":u.deloser?u.deloser.setProps(h.deloser):e.deloser&&(u.deloser=e.deloser.createDeloser(t,h.deloser));break;case"root":u.root?u.root.setProps(h.root):u.root=e.root.createRoot(t,h.root,i),e.root.onRoot(u.root);break;case"modalizer":u.modalizer?u.modalizer.setProps(h.modalizer):e.modalizer&&(u.modalizer=e.modalizer.createModalizer(t,h.modalizer,i));break;case"restorer":u.restorer?u.restorer.setProps(h.restorer):e.restorer&&h.restorer&&(u.restorer=e.restorer.createRestorer(t,h.restorer));break;case"focusable":u.focusable=h.focusable;break;case"groupper":u.groupper?u.groupper.setProps(h.groupper):e.groupper&&(u.groupper=e.groupper.createGroupper(t,h.groupper,i));break;case"mover":u.mover?u.mover.setProps(h.mover):e.mover&&(u.mover=e.mover.createMover(t,h.mover,i));break;case"observed":e.observedElement&&(u.observed=h.observed,e.observedElement.onObservedElementUpdate(t));break;case"uncontrolled":u.uncontrolled=h.uncontrolled;break;case"outline":e.outline&&(u.outline=h.outline);break;case"sys":u.sys=h.sys}}a?c.attr=a:(0===Object.keys(u).length&&(delete c.tabster,delete c.attr),e.storageEntry(t,!1))}const p="tabster:movefocus",m="tabster:mover:movefocus",v="tabster:mover:memorized-element",_="tabster:groupper:movefocus",b="tabster:restorer:restore-focus",g="undefined"!=typeof CustomEvent?CustomEvent:function(){};class y extends g{constructor(e,t){super(e,{bubbles:!0,cancelable:!0,composed:!0,detail:t}),this.details=t}}class w extends y{constructor(e){super("tabster:focusin",e)}}class E extends y{constructor(e){super("tabster:focusout",e)}}class C extends y{constructor(e){super(p,e)}}class T extends y{constructor(e){super("tabster:mover:state",e)}}class R extends y{constructor(e){super("tabster:modalizer:active",e)}}class O extends y{constructor(e){super("tabster:modalizer:inactive",e)}}class F extends y{constructor(){super(b)}}class I extends y{constructor(e){super("tabster:root:focus",e)}}class k extends y{constructor(e){super("tabster:root:blur",e)}}const S={createMutationObserver:e=>new MutationObserver(e),createTreeWalker:(e,t,s,i)=>e.createTreeWalker(t,s,i),getParentNode:e=>e?e.parentNode:null,getParentElement:e=>e?e.parentElement:null,nodeContains:(e,t)=>!(!t||!(null==e?void 0:e.contains(t))),getActiveElement:e=>e.activeElement,querySelector:(e,t)=>e.querySelector(t),querySelectorAll:(e,t)=>Array.prototype.slice.call(e.querySelectorAll(t),0),getElementById:(e,t)=>e.getElementById(t),getFirstChild:e=>(null==e?void 0:e.firstChild)||null,getLastChild:e=>(null==e?void 0:e.lastChild)||null,getNextSibling:e=>(null==e?void 0:e.nextSibling)||null,getPreviousSibling:e=>(null==e?void 0:e.previousSibling)||null,getFirstElementChild:e=>(null==e?void 0:e.firstElementChild)||null,getLastElementChild:e=>(null==e?void 0:e.lastElementChild)||null,getNextElementSibling:e=>(null==e?void 0:e.nextElementSibling)||null,getPreviousElementSibling:e=>(null==e?void 0:e.previousElementSibling)||null,appendChild:(e,t)=>e.appendChild(t),insertBefore:(e,t,s)=>e.insertBefore(t,s),getSelection:e=>{var t;return(null===(t=e.ownerDocument)||void 0===t?void 0:t.getSelection())||null},getElementsByName:(e,t)=>e.ownerDocument.getElementsByName(t)};let P;const D="undefined"!=typeof DOMRect?DOMRect:class{constructor(e,t,s,i){this.left=e||0,this.top=t||0,this.right=(e||0)+(s||0),this.bottom=(t||0)+(i||0)}};let x=0;try{document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT),P=!1}catch(e){P=!0}function M(e){const t=e();let s=t.__tabsterInstanceContext;return s||(s={elementByUId:{},basics:{Promise:t.Promise||void 0,WeakRef:t.WeakRef||void 0},containerBoundingRectCache:{},lastContainerBoundingRectCacheId:0,fakeWeakRefs:[],fakeWeakRefsStarted:!1},t.__tabsterInstanceContext=s),s}class A{constructor(e){this._target=e}deref(){return this._target}static cleanup(e,t){return!e._target||!(!t&&G(e._target.ownerDocument,e._target))&&(delete e._target,!0)}}class N{constructor(e,t,s){const i=M(e);let n;i.WeakRef?n=new i.WeakRef(t):(n=new A(t),i.fakeWeakRefs.push(n)),this._ref=n,this._data=s}get(){const e=this._ref;let t;return e&&(t=e.deref(),t||delete this._ref),t}getData(){return this._data}}function L(e,t){const s=M(e);s.fakeWeakRefs=s.fakeWeakRefs.filter((e=>!A.cleanup(e,t)))}function q(e){const t=M(e);t.fakeWeakRefsStarted||(t.fakeWeakRefsStarted=!0,t.WeakRef=function(e){return e.basics.WeakRef}(t)),t.fakeWeakRefsTimer||(t.fakeWeakRefsTimer=e().setTimeout((()=>{t.fakeWeakRefsTimer=void 0,L(e),q(e)}),12e4))}function U(e,t,s){if(t.nodeType===Node.ELEMENT_NODE)return S.createTreeWalker(e,t,NodeFilter.SHOW_ELEMENT,P?s:{acceptNode:s},!1)}function j(e,t){let s=t.__tabsterCacheId;const i=M(e),n=s?i.containerBoundingRectCache[s]:void 0;if(n)return n.rect;const r=t.ownerDocument&&t.ownerDocument.documentElement;if(!r)return new D;let o=0,a=0,c=r.clientWidth,u=r.clientHeight;if(t!==r){const e=t.getBoundingClientRect();o=Math.max(o,e.left),a=Math.max(a,e.top),c=Math.min(c,e.right),u=Math.min(u,e.bottom)}const l=new D(o<c?o:-1,a<u?a:-1,o<c?c-o:0,a<u?u-a:0);return s||(s="r-"+ ++i.lastContainerBoundingRectCacheId,t.__tabsterCacheId=s),i.containerBoundingRectCache[s]={rect:l,element:t},i.containerBoundingRectCacheTimer||(i.containerBoundingRectCacheTimer=window.setTimeout((()=>{i.containerBoundingRectCacheTimer=void 0;for(const e of Object.keys(i.containerBoundingRectCache))delete i.containerBoundingRectCache[e].element.__tabsterCacheId;i.containerBoundingRectCache={}}),50)),l}function W(e,t,s){const i=K(t);if(!i)return!1;const n=j(e,i),r=t.getBoundingClientRect(),o=r.height*(1-s),a=Math.max(0,n.top-r.top)+Math.max(0,r.bottom-n.bottom);return 0===a||a<=o}function K(e){const t=e.ownerDocument;if(t){for(let t=S.getParentElement(e);t;t=S.getParentElement(t))if(t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight)return t;return t.documentElement}return null}function B(e){return!!e.__shouldIgnoreFocus}function Q(e,t){const s=M(e);let i=t.__tabsterElementUID;return i||(i=t.__tabsterElementUID=function(e){const t=new Uint32Array(4);if(e.crypto&&e.crypto.getRandomValues)e.crypto.getRandomValues(t);else if(e.msCrypto&&e.msCrypto.getRandomValues)e.msCrypto.getRandomValues(t);else for(let e=0;e<t.length;e++)t[e]=4294967295*Math.random();const s=[];for(let e=0;e<t.length;e++)s.push(t[e].toString(36));return s.push("|"),s.push((++x).toString(36)),s.push("|"),s.push(Date.now().toString(36)),s.join("")}(e())),!s.elementByUId[i]&&G(t.ownerDocument,t)&&(s.elementByUId[i]=new N(e,t)),i}function z(e,t){const s=M(e);for(const e of Object.keys(s.elementByUId)){const i=s.elementByUId[e],n=i&&i.get();n&&t&&!S.nodeContains(t,n)||delete s.elementByUId[e]}}function G(e,t){return S.nodeContains(null==e?void 0:e.body,t)}function V(e,t){const s=e.matches||e.matchesSelector||e.msMatchesSelector||e.webkitMatchesSelector;return s&&s.call(e,t)}let H=0;class ${constructor(e,t,s){const i=e.getWindow;this._tabster=e,this._element=new N(i,t),this._props={...s},this.id="i"+ ++H}getElement(){return this._element.get()}getProps(){return this._props}setProps(e){this._props={...e}}}class J{constructor(e,t,s,n,r){var o;this._focusIn=e=>{if(this._fixedTarget){const e=this._fixedTarget.get();return void(e&&(0,i.kG)(e))}const t=this.input;if(this.onFocusIn&&t){const s=e.relatedTarget;this.onFocusIn(this,this._isBackward(!0,t,s),s)}},this._focusOut=e=>{if(this._fixedTarget)return;this.useDefaultAction=!1;const t=this.input;if(this.onFocusOut&&t){const s=e.relatedTarget;this.onFocusOut(this,this._isBackward(!1,t,s),s)}};const a=e(),c=a.document.createElement("i");c.tabIndex=0,c.setAttribute("role","none"),c.setAttribute("data-tabster-dummy",""),c.setAttribute("aria-hidden","true");const u=c.style;u.position="fixed",u.width=u.height="1px",u.opacity="0.001",u.zIndex="-1",u.setProperty("content-visibility","hidden"),function(e){e.__shouldIgnoreFocus=!0}(c),this.input=c,this.isFirst=s.isFirst,this.isOutside=t,this._isPhantom=null!==(o=s.isPhantom)&&void 0!==o&&o,this._fixedTarget=r,c.addEventListener("focusin",this._focusIn),c.addEventListener("focusout",this._focusOut),c.__tabsterDummyContainer=n,this._isPhantom&&(this._disposeTimer=a.setTimeout((()=>{delete this._disposeTimer,this.dispose()}),0),this._clearDisposeTimeout=()=>{this._disposeTimer&&(a.clearTimeout(this._disposeTimer),delete this._disposeTimer),delete this._clearDisposeTimeout})}dispose(){var e;this._clearDisposeTimeout&&this._clearDisposeTimeout();const t=this.input;t&&(delete this._fixedTarget,delete this.onFocusIn,delete this.onFocusOut,delete this.input,t.removeEventListener("focusin",this._focusIn),t.removeEventListener("focusout",this._focusOut),delete t.__tabsterDummyContainer,null===(e=S.getParentNode(t))||void 0===e||e.removeChild(t))}setTopLeft(e,t){var s;const i=null===(s=this.input)||void 0===s?void 0:s.style;i&&(i.top=`${e}px`,i.left=`${t}px`)}_isBackward(e,t,s){return e&&!s?!this.isFirst:!!(s&&t.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_FOLLOWING)}}class Y{constructor(e,t,s,i,n,r){this._element=t,this._instance=new X(e,t,this,s,i,n,r)}_setHandlers(e,t){this._onFocusIn=e,this._onFocusOut=t}moveOut(e){var t;null===(t=this._instance)||void 0===t||t.moveOut(e)}moveOutWithDefaultAction(e,t){var s;null===(s=this._instance)||void 0===s||s.moveOutWithDefaultAction(e,t)}getHandler(e){return e?this._onFocusIn:this._onFocusOut}setTabbable(e){var t;null===(t=this._instance)||void 0===t||t.setTabbable(this,e)}dispose(){this._instance&&(this._instance.dispose(this),delete this._instance),delete this._onFocusIn,delete this._onFocusOut}static moveWithPhantomDummy(e,t,s,n,r){const o=new J(e.getWindow,!0,{isPhantom:!0,isFirst:!0}).input;if(o){let a,c;if("BODY"===t.tagName)a=t,c=s&&n||!s&&!n?S.getFirstElementChild(t):null;else{let i,r;s&&(!n||n&&!e.focusable.isFocusable(t,!1,!0,!0))?(a=t,c=n?t.firstElementChild:null):(a=S.getParentElement(t),c=s&&n||!s&&!n?t:S.getNextElementSibling(t));do{i=s&&n||!s&&!n?S.getPreviousElementSibling(c):c,r=ie(i),r===t?c=s&&n||!s&&!n?i:S.getNextElementSibling(i):r=null}while(r)}(null==a?void 0:a.dispatchEvent(new C({by:"root",owner:a,next:null,relatedEvent:r})))&&(S.insertBefore(a,o,c),(0,i.kG)(o))}}static addPhantomDummyWithTarget(e,t,s,i){const n=new J(e.getWindow,!0,{isPhantom:!0,isFirst:!0},void 0,new N(e.getWindow,i)).input;if(n){let e,i;!function(e){return!!e.querySelector(r)}(t)||s?(e=S.getParentElement(t),i=s?t:S.getNextElementSibling(t)):(e=t,i=S.getFirstElementChild(t)),e&&S.insertBefore(e,n,i)}}}class Z{constructor(e){this._updateQueue=new Set,this._lastUpdateQueueTime=0,this._changedParents=new WeakSet,this._dummyElements=[],this._dummyCallbacks=new WeakMap,this._domChanged=e=>{var t;this._changedParents.has(e)||(this._changedParents.add(e),this._updateDummyInputsTimer||(this._updateDummyInputsTimer=null===(t=this._win)||void 0===t?void 0:t.call(this).setTimeout((()=>{delete this._updateDummyInputsTimer;for(const e of this._dummyElements){const t=e.get();if(t){const e=this._dummyCallbacks.get(t);if(e){const s=S.getParentNode(t);s&&!this._changedParents.has(s)||e()}}}this._changedParents=new WeakSet}),100)))},this._win=e}add(e,t){!this._dummyCallbacks.has(e)&&this._win&&(this._dummyElements.push(new N(this._win,e)),this._dummyCallbacks.set(e,t),this.domChanged=this._domChanged)}remove(e){this._dummyElements=this._dummyElements.filter((t=>{const s=t.get();return s&&s!==e})),this._dummyCallbacks.delete(e),0===this._dummyElements.length&&delete this.domChanged}dispose(){var e;const t=null===(e=this._win)||void 0===e?void 0:e.call(this);this._updateTimer&&(null==t||t.clearTimeout(this._updateTimer),delete this._updateTimer),this._updateDummyInputsTimer&&(null==t||t.clearTimeout(this._updateDummyInputsTimer),delete this._updateDummyInputsTimer),this._changedParents=new WeakSet,this._dummyCallbacks=new WeakMap,this._dummyElements=[],this._updateQueue.clear(),delete this.domChanged,delete this._win}updatePositions(e){this._win&&(this._updateQueue.add(e),this._lastUpdateQueueTime=Date.now(),this._scheduledUpdatePositions())}_scheduledUpdatePositions(){var e;this._updateTimer||(this._updateTimer=null===(e=this._win)||void 0===e?void 0:e.call(this).setTimeout((()=>{if(delete this._updateTimer,this._lastUpdateQueueTime+100<=Date.now()){const e=new Map,t=[];for(const s of this._updateQueue)t.push(s(e));this._updateQueue.clear();for(const e of t)e();e.clear()}else this._scheduledUpdatePositions()}),100))}}class X{constructor(e,t,s,n,r,o,a){this._wrappers=[],this._isOutside=!1,this._transformElements=new Set,this._onFocusIn=(e,t,s)=>{this._onFocus(!0,e,t,s)},this._onFocusOut=(e,t,s)=>{this._onFocus(!1,e,t,s)},this.moveOut=e=>{var t;const s=this._firstDummy,n=this._lastDummy;if(s&&n){this._ensurePosition();const r=s.input,o=n.input,a=null===(t=this._element)||void 0===t?void 0:t.get();if(r&&o&&a){let t;e?(r.tabIndex=0,t=r):(o.tabIndex=0,t=o),t&&(0,i.kG)(t)}}},this.moveOutWithDefaultAction=(e,t)=>{var s;const n=this._firstDummy,r=this._lastDummy;if(n&&r){this._ensurePosition();const o=n.input,a=r.input,c=null===(s=this._element)||void 0===s?void 0:s.get();if(o&&a&&c){let s;e?!n.isOutside&&this._tabster.focusable.isFocusable(c,!0,!0,!0)?s=c:(n.useDefaultAction=!0,o.tabIndex=0,s=o):(r.useDefaultAction=!0,a.tabIndex=0,s=a),s&&c.dispatchEvent(new C({by:"root",owner:c,next:null,relatedEvent:t}))&&(0,i.kG)(s)}}},this.setTabbable=(e,t)=>{var s,i;for(const s of this._wrappers)if(s.manager===e){s.tabbable=t;break}const n=this._getCurrent();if(n){const e=n.tabbable?0:-1;let t=null===(s=this._firstDummy)||void 0===s?void 0:s.input;t&&(t.tabIndex=e),t=null===(i=this._lastDummy)||void 0===i?void 0:i.input,t&&(t.tabIndex=e)}},this._addDummyInputs=()=>{this._addTimer||(this._addTimer=this._getWindow().setTimeout((()=>{delete this._addTimer,this._ensurePosition(),this._addTransformOffsets()}),0))},this._addTransformOffsets=()=>{this._tabster._dummyObserver.updatePositions(this._computeTransformOffsets)},this._computeTransformOffsets=e=>{var t,s;const i=(null===(t=this._firstDummy)||void 0===t?void 0:t.input)||(null===(s=this._lastDummy)||void 0===s?void 0:s.input),n=this._transformElements,r=new Set;let o=0,a=0;const c=this._getWindow();for(let t=i;t&&t.nodeType===Node.ELEMENT_NODE;t=S.getParentElement(t)){let s=e.get(t);if(void 0===s){const i=c.getComputedStyle(t).transform;i&&"none"!==i&&(s={scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),e.set(t,s||null)}s&&(r.add(t),n.has(t)||t.addEventListener("scroll",this._addTransformOffsets),o+=s.scrollTop,a+=s.scrollLeft)}for(const e of n)r.has(e)||e.removeEventListener("scroll",this._addTransformOffsets);return this._transformElements=r,()=>{var e,t;null===(e=this._firstDummy)||void 0===e||e.setTopLeft(o,a),null===(t=this._lastDummy)||void 0===t||t.setTopLeft(o,a)}};const c=t.get();if(!c)throw new Error("No element");this._tabster=e,this._getWindow=e.getWindow,this._callForDefaultAction=a;const u=c.__tabsterDummy;if((u||this)._wrappers.push({manager:s,priority:n,tabbable:!0}),u)return u;c.__tabsterDummy=this;const l=null==r?void 0:r.dummyInputsPosition,h=c.tagName;this._isOutside=l?2===l:(o||"UL"===h||"OL"===h||"TABLE"===h)&&!("LI"===h||"TD"===h||"TH"===h),this._firstDummy=new J(this._getWindow,this._isOutside,{isFirst:!0},t),this._lastDummy=new J(this._getWindow,this._isOutside,{isFirst:!1},t);const d=this._firstDummy.input;d&&e._dummyObserver.add(d,this._addDummyInputs),this._firstDummy.onFocusIn=this._onFocusIn,this._firstDummy.onFocusOut=this._onFocusOut,this._lastDummy.onFocusIn=this._onFocusIn,this._lastDummy.onFocusOut=this._onFocusOut,this._element=t,this._addDummyInputs()}dispose(e,t){var s,i,n,r;if(0===(this._wrappers=this._wrappers.filter((s=>s.manager!==e&&!t))).length){delete(null===(s=this._element)||void 0===s?void 0:s.get()).__tabsterDummy;for(const e of this._transformElements)e.removeEventListener("scroll",this._addTransformOffsets);this._transformElements.clear();const e=this._getWindow();this._addTimer&&(e.clearTimeout(this._addTimer),delete this._addTimer);const t=null===(i=this._firstDummy)||void 0===i?void 0:i.input;t&&this._tabster._dummyObserver.remove(t),null===(n=this._firstDummy)||void 0===n||n.dispose(),null===(r=this._lastDummy)||void 0===r||r.dispose()}}_onFocus(e,t,s,i){var n;const r=this._getCurrent();!r||t.useDefaultAction&&!this._callForDefaultAction||null===(n=r.manager.getHandler(e))||void 0===n||n(t,s,i)}_getCurrent(){return this._wrappers.sort(((e,t)=>e.tabbable!==t.tabbable?e.tabbable?-1:1:e.priority-t.priority)),this._wrappers[0]}_ensurePosition(){var e,t,s;const i=null===(e=this._element)||void 0===e?void 0:e.get(),n=null===(t=this._firstDummy)||void 0===t?void 0:t.input,r=null===(s=this._lastDummy)||void 0===s?void 0:s.input;if(i&&n&&r)if(this._isOutside){const e=S.getParentNode(i);if(e){const t=S.getNextSibling(i);t!==r&&S.insertBefore(e,r,t),S.getPreviousElementSibling(i)!==n&&S.insertBefore(e,n,i)}}else{S.getLastElementChild(i)!==r&&S.appendChild(i,r);const e=S.getFirstElementChild(i);e&&e!==n&&e.parentNode&&S.insertBefore(e.parentNode,n,e)}}}function ee(e){let t=null;for(let s=S.getLastElementChild(e);s;s=S.getLastElementChild(s))t=s;return t||void 0}function te(e,t,s,i){const n=e.storageEntry(t,!0);let r=!1;if(!n.aug){if(void 0===i)return r;n.aug={}}if(void 0===i){if(s in n.aug){const e=n.aug[s];delete n.aug[s],null===e?t.removeAttribute(s):t.setAttribute(s,e),r=!0}}else{let e;s in n.aug||(e=t.getAttribute(s)),void 0!==e&&e!==i&&(n.aug[s]=e,null===i?t.removeAttribute(s):t.setAttribute(s,i),r=!0)}return void 0===i&&0===Object.keys(n.aug).length&&(delete n.aug,e.storageEntry(t,!1)),r}function se(e){return"INPUT"===e.tagName&&!!e.name&&"radio"===e.type}function ie(e){var t;return(null===(t=null==e?void 0:e.__tabsterDummyContainer)||void 0===t?void 0:t.get())||null}function ne(e,t){const s=JSON.stringify(e);return!0===t?s:{[n]:s}}class re extends Y{constructor(e,t,s,n){super(e,t,1,n,void 0,!0),this._onDummyInputFocus=e=>{var t;if(e.useDefaultAction)this._setFocused(!1);else{this._tabster.keyboardNavigation.setNavigatingWithKeyboard(!0);const s=this._element.get();if(s){this._setFocused(!0);const t=this._tabster.focusedElement.getFirstOrLastTabbable(e.isFirst,{container:s,ignoreAccessibility:!0});if(t)return void(0,i.kG)(t)}null===(t=e.input)||void 0===t||t.blur()}},this._setHandlers(this._onDummyInputFocus),this._tabster=e,this._setFocused=s}}class oe extends ${constructor(e,t,s,n,r){super(e,t,n),this._isFocused=!1,this._setFocused=e=>{var t;if(this._setFocusedTimer&&(this._tabster.getWindow().clearTimeout(this._setFocusedTimer),delete this._setFocusedTimer),this._isFocused===e)return;const s=this._element.get();s&&(e?(this._isFocused=!0,null===(t=this._dummyManager)||void 0===t||t.setTabbable(!1),s.dispatchEvent(new I({element:s}))):this._setFocusedTimer=this._tabster.getWindow().setTimeout((()=>{var e;delete this._setFocusedTimer,this._isFocused=!1,null===(e=this._dummyManager)||void 0===e||e.setTabbable(!0),s.dispatchEvent(new k({element:s}))}),0))},this._onFocusIn=e=>{const t=this._tabster.getParent,s=this._element.get();let i=e.composedPath()[0];do{if(i===s)return void this._setFocused(!0);i=i&&t(i)}while(i)},this._onFocusOut=()=>{this._setFocused(!1)},this._onDispose=s;const o=e.getWindow;this.uid=Q(o,t),this._sys=r,(e.controlTab||e.rootDummyInputs)&&this.addDummyInputs();const a=o().document;a.addEventListener(i.Oy,this._onFocusIn),a.addEventListener(i.RY,this._onFocusOut),this._add()}addDummyInputs(){this._dummyManager||(this._dummyManager=new re(this._tabster,this._element,this._setFocused,this._sys))}dispose(){var e;this._onDispose(this);const t=this._tabster.getWindow(),s=t.document;s.removeEventListener(i.Oy,this._onFocusIn),s.removeEventListener(i.RY,this._onFocusOut),this._setFocusedTimer&&(t.clearTimeout(this._setFocusedTimer),delete this._setFocusedTimer),null===(e=this._dummyManager)||void 0===e||e.dispose(),this._remove()}moveOutWithDefaultAction(e,t){const s=this._dummyManager;if(s)s.moveOutWithDefaultAction(e,t);else{const s=this.getElement();s&&re.moveWithPhantomDummy(this._tabster,s,!0,e,t)}}_add(){}_remove(){}}class ae{constructor(e,t){this._autoRootWaiting=!1,this._roots={},this._forceDummy=!1,this.rootById={},this._autoRootCreate=()=>{var e;const t=this._win().document,s=t.body;if(s){this._autoRootUnwait(t);const i=this._autoRoot;if(i)return function(e,t){let s;{const t=e.getAttribute(n);if(t)try{s=JSON.parse(t)}catch(e){}}s||(s={}),function(e,t){for(const s of Object.keys(t)){const i=t[s];i?e[s]=i:delete e[s]}}(s,t),Object.keys(s).length>0?e.setAttribute(n,ne(s,!0)):e.removeAttribute(n)}(s,{root:i}),f(this._tabster,s),null===(e=d(this._tabster,s))||void 0===e?void 0:e.root}else this._autoRootWaiting||(this._autoRootWaiting=!0,t.addEventListener("readystatechange",this._autoRootCreate))},this._onRootDispose=e=>{delete this._roots[e.id]},this._tabster=e,this._win=e.getWindow,this._autoRoot=t,e.queueInit((()=>{this._autoRoot&&this._autoRootCreate()}))}_autoRootUnwait(e){e.removeEventListener("readystatechange",this._autoRootCreate),this._autoRootWaiting=!1}dispose(){const e=this._win();this._autoRootUnwait(e.document),delete this._autoRoot,Object.keys(this._roots).forEach((e=>{this._roots[e]&&(this._roots[e].dispose(),delete this._roots[e])})),this.rootById={}}createRoot(e,t,s){const i=new oe(this._tabster,e,this._onRootDispose,t,s);return this._roots[i.id]=i,this._forceDummy&&i.addDummyInputs(),i}addDummyInputs(){this._forceDummy=!0;const e=this._roots;for(const t of Object.keys(e))e[t].addDummyInputs()}static getRootByUId(e,t){const s=e().__tabsterInstance;return s&&s.root.rootById[t]}static getTabsterContext(e,t,s){var i,n,r,o;if(void 0===s&&(s={}),!t.ownerDocument)return;const{checkRtl:a,referenceElement:c}=s,u=e.getParent;let l,h,f,p;e.drainInitQueue();let m,v,_,b,g=!1,y=c||t;const w={};for(;y&&(!l||a);){const s=d(e,y);if(a&&void 0===_){const e=y.dir;e&&(_="rtl"===e.toLowerCase())}if(!s){y=u(y);continue}const o=y.tagName;(s.uncontrolled||"IFRAME"===o||"WEBVIEW"===o)&&(b=y),p||!(null===(i=s.focusable)||void 0===i?void 0:i.excludeFromMover)||f||(g=!0);const c=s.modalizer,E=s.groupper,C=s.mover;!h&&c&&(h=c),f||!E||h&&!c||(h?(!E.isActive()&&E.getProps().tabbability&&h.userId!==(null===(n=e.modalizer)||void 0===n?void 0:n.activeId)&&(h=void 0,f=E),v=E):f=E),p||!C||h&&!c||E&&y===t||!y.contains(t)||(p=C,m=!!f&&f!==E),s.root&&(l=s.root),(null===(r=s.focusable)||void 0===r?void 0:r.ignoreKeydown)&&Object.assign(w,s.focusable.ignoreKeydown),y=u(y)}if(!l){const s=e.root;s._autoRoot&&(null===(o=t.ownerDocument)||void 0===o?void 0:o.body)&&(l=s._autoRootCreate())}return f&&!p&&(m=!0),l?{root:l,modalizer:h,groupper:f,mover:p,groupperBeforeMover:m,modalizerInGroupper:v,rtl:a?!!_:void 0,uncontrolled:b,excludedFromMover:g,ignoreKeydown:e=>!!w[e.key]}:void 0}static getRoot(e,t){var s;const i=e.getParent;for(let n=t;n;n=i(n)){const t=null===(s=d(e,n))||void 0===s?void 0:s.root;if(t)return t}}onRoot(e,t){t?delete this.rootById[e.uid]:this.rootById[e.uid]=e}}class ce{constructor(){this._callbacks=[]}dispose(){this._callbacks=[],delete this._val}subscribe(e){const t=this._callbacks;t.indexOf(e)<0&&t.push(e)}subscribeFirst(e){const t=this._callbacks,s=t.indexOf(e);s>=0&&t.splice(s,1),t.unshift(e)}unsubscribe(e){const t=this._callbacks.indexOf(e);t>=0&&this._callbacks.splice(t,1)}setVal(e,t){this._val!==e&&(this._val=e,this._callCallbacks(e,t))}getVal(){return this._val}trigger(e,t){this._callCallbacks(e,t)}_callCallbacks(e,t){this._callbacks.forEach((s=>s(e,t)))}}class ue{constructor(e){this._tabster=e}dispose(){}getProps(e){const t=d(this._tabster,e);return t&&t.focusable||{}}isFocusable(e,t,s,i){return!(!V(e,r)||!t&&-1===e.tabIndex)&&(s||this.isVisible(e))&&(i||this.isAccessible(e))}isVisible(e){if(!e.ownerDocument||e.nodeType!==Node.ELEMENT_NODE)return!1;if(function(e){var t,s;const i=e.ownerDocument,n=null===(t=i.defaultView)||void 0===t?void 0:t.getComputedStyle(e);if(null===e.offsetParent&&i.body!==e&&"fixed"!==(null==n?void 0:n.position))return!0;if("hidden"===(null==n?void 0:n.visibility))return!0;if("fixed"===(null==n?void 0:n.position)){if("none"===n.display)return!0;if(null===(null===(s=e.parentElement)||void 0===s?void 0:s.offsetParent)&&i.body!==e.parentElement)return!0}return!1}(e))return!1;const t=e.ownerDocument.body.getBoundingClientRect();return 0!==t.width||0!==t.height}isAccessible(e){var t;for(let s=e;s;s=S.getParentElement(s)){const e=d(this._tabster,s);if(this._isHidden(s))return!1;if(!(null===(t=null==e?void 0:e.focusable)||void 0===t?void 0:t.ignoreAriaDisabled)&&this._isDisabled(s))return!1}return!0}_isDisabled(e){return e.hasAttribute("disabled")}_isHidden(e){var t;const s=e.getAttribute("aria-hidden");return!(!s||"true"!==s.toLowerCase()||(null===(t=this._tabster.modalizer)||void 0===t?void 0:t.isAugmented(e)))}findFirst(e,t){return this.findElement({...e},t)}findLast(e,t){return this.findElement({isBackward:!0,...e},t)}findNext(e,t){return this.findElement({...e},t)}findPrev(e,t){return this.findElement({...e,isBackward:!0},t)}findDefault(e,t){return this.findElement({...e,acceptCondition:t=>this.isFocusable(t,e.includeProgrammaticallyFocusable)&&!!this.getProps(t).isDefault},t)||null}findAll(e){return this._findElements(!0,e)||[]}findElement(e,t){const s=this._findElements(!1,e,t);return s?s[0]:s}_findElements(e,t,s){var i,n,r;const{container:o,currentElement:a=null,includeProgrammaticallyFocusable:c,useActiveModalizer:u,ignoreAccessibility:l,modalizerId:h,isBackward:d,onElement:f}=t;s||(s={});const p=[];let{acceptCondition:m}=t;const v=!!m;if(!o)return null;m||(m=e=>this.isFocusable(e,c,!1,l));const _={container:o,modalizerUserId:void 0===h&&u?null===(i=this._tabster.modalizer)||void 0===i?void 0:i.activeId:h||(null===(r=null===(n=ae.getTabsterContext(this._tabster,o))||void 0===n?void 0:n.modalizer)||void 0===r?void 0:r.userId),from:a||o,isBackward:d,isFindAll:e,acceptCondition:m,hasCustomCondition:v,includeProgrammaticallyFocusable:c,ignoreAccessibility:l,cachedGrouppers:{},cachedRadioGroups:{}},b=U(o.ownerDocument,o,(e=>this._acceptElement(e,_)));if(!b)return null;const g=t=>{var i,n;const r=null!==(i=_.foundElement)&&void 0!==i?i:_.foundBackward;return r&&p.push(r),e?!(r&&(_.found=!1,delete _.foundElement,delete _.foundBackward,delete _.fromCtx,_.from=r,f&&!f(r))||!r&&!t):(r&&s&&(s.uncontrolled=null===(n=ae.getTabsterContext(this._tabster,r))||void 0===n?void 0:n.uncontrolled),!(!t||r))};if(a||(s.outOfDOMOrder=!0),a&&S.nodeContains(o,a))b.currentNode=a;else if(d){const e=ee(o);if(!e)return null;if(this._acceptElement(e,_)===NodeFilter.FILTER_ACCEPT&&!g(!0))return _.skippedFocusable&&(s.outOfDOMOrder=!0),p;b.currentNode=e}do{d?b.previousNode():b.nextNode()}while(g());return _.skippedFocusable&&(s.outOfDOMOrder=!0),p.length?p:null}_acceptElement(e,t){var s,i,n;if(t.found)return NodeFilter.FILTER_ACCEPT;const r=t.foundBackward;if(r&&(e===r||!S.nodeContains(r,e)))return t.found=!0,t.foundElement=r,NodeFilter.FILTER_ACCEPT;const o=t.container;if(e===o)return NodeFilter.FILTER_SKIP;if(!S.nodeContains(o,e))return NodeFilter.FILTER_REJECT;if(ie(e))return NodeFilter.FILTER_REJECT;if(S.nodeContains(t.rejectElementsFrom,e))return NodeFilter.FILTER_REJECT;const a=t.currentCtx=ae.getTabsterContext(this._tabster,e);if(!a)return NodeFilter.FILTER_SKIP;if(B(e))return this.isFocusable(e,void 0,!0,!0)&&(t.skippedFocusable=!0),NodeFilter.FILTER_SKIP;if(!t.hasCustomCondition&&("IFRAME"===e.tagName||"WEBVIEW"===e.tagName))return(null===(s=a.modalizer)||void 0===s?void 0:s.userId)===(null===(i=this._tabster.modalizer)||void 0===i?void 0:i.activeId)?(t.found=!0,t.rejectElementsFrom=t.foundElement=e,NodeFilter.FILTER_ACCEPT):NodeFilter.FILTER_REJECT;if(!t.ignoreAccessibility&&!this.isAccessible(e))return this.isFocusable(e,!1,!0,!0)&&(t.skippedFocusable=!0),NodeFilter.FILTER_REJECT;let c,u=t.fromCtx;u||(u=t.fromCtx=ae.getTabsterContext(this._tabster,t.from));const l=null==u?void 0:u.mover;let h=a.groupper,d=a.mover;if(c=null===(n=this._tabster.modalizer)||void 0===n?void 0:n.acceptElement(e,t),void 0!==c&&(t.skippedFocusable=!0),void 0===c&&(h||d||l)){const s=null==h?void 0:h.getElement(),i=null==l?void 0:l.getElement();let n=null==d?void 0:d.getElement();n&&S.nodeContains(i,n)&&S.nodeContains(o,i)&&(!s||!d||S.nodeContains(i,s))&&(d=l,n=i),!s||s!==o&&S.nodeContains(o,s)||(h=void 0),n&&!S.nodeContains(o,n)&&(d=void 0),h&&d&&(n&&s&&!S.nodeContains(s,n)?d=void 0:h=void 0),h&&(c=h.acceptElement(e,t)),d&&(c=d.acceptElement(e,t))}if(void 0===c&&(c=t.acceptCondition(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP,c===NodeFilter.FILTER_SKIP&&this.isFocusable(e,!1,!0,!0)&&(t.skippedFocusable=!0)),c===NodeFilter.FILTER_ACCEPT&&!t.found){if(!t.isFindAll&&se(e)&&!e.checked){const s=e.name;let i=t.cachedRadioGroups[s];if(i||(i=function(e){if(!se(e))return;const t=e.name;let s,i=Array.from(S.getElementsByName(e,t));return i=i.filter((e=>!!se(e)&&(e.checked&&(s=e),!0))),{name:t,buttons:new Set(i),checked:s}}(e),i&&(t.cachedRadioGroups[s]=i)),(null==i?void 0:i.checked)&&i.checked!==e)return NodeFilter.FILTER_SKIP}t.isBackward?(t.foundBackward=e,c=NodeFilter.FILTER_SKIP):(t.found=!0,t.foundElement=e)}return c}}const le="Enter",he="Escape",de="Home",fe="ArrowLeft",pe="ArrowUp",me="ArrowRight",ve="ArrowDown",_e={[a]:0,[c]:1,[o]:2};class be extends ce{constructor(e,t){super(),this._init=()=>{const e=this._win(),t=e.document;t.addEventListener(i.Oy,this._onFocusIn,!0),t.addEventListener(i.RY,this._onFocusOut,!0),e.addEventListener("keydown",this._onKeyDown,!0);const s=S.getActiveElement(t);s&&s!==t.body&&this._setFocusedElement(s),this.subscribe(this._onChanged)},this._onFocusIn=e=>{const t=e.composedPath()[0];t&&this._setFocusedElement(t,e.detail.relatedTarget,e.detail.isFocusedProgrammatically)},this._onFocusOut=e=>{var t;this._setFocusedElement(void 0,null===(t=e.detail)||void 0===t?void 0:t.originalEvent.relatedTarget)},this._validateFocusedElement=e=>{},this._onKeyDown=e=>{if("Tab"!==e.key||e.ctrlKey)return;const t=this.getVal();if(!t||!t.ownerDocument||"true"===t.contentEditable)return;const s=this._tabster,n=s.controlTab,r=ae.getTabsterContext(s,t);if(!r||r.ignoreKeydown(e))return;const o=e.shiftKey,a=be.findNextTabbable(s,r,void 0,t,void 0,o,!0),c=r.root.getElement();if(!c)return;const u=null==a?void 0:a.element,l=function(e,t){var s;const i=e.getParent;let n=t;do{const t=null===(s=d(e,n))||void 0===s?void 0:s.uncontrolled;if(t&&e.uncontrolled.isUncontrolledCompletely(n,!!t.completely))return n;n=i(n)}while(n)}(s,t);if(u){const h=a.uncontrolled;if(r.uncontrolled||S.nodeContains(h,t)){if(!a.outOfDOMOrder&&h===r.uncontrolled||l&&!S.nodeContains(l,u))return;return void Y.addPhantomDummyWithTarget(s,t,o,u)}if(h||"IFRAME"===u.tagName)return void(c.dispatchEvent(new C({by:"root",owner:c,next:u,relatedEvent:e}))&&Y.moveWithPhantomDummy(this._tabster,null!=h?h:u,!1,o,e));(n||(null==a?void 0:a.outOfDOMOrder))&&c.dispatchEvent(new C({by:"root",owner:c,next:u,relatedEvent:e}))&&(e.preventDefault(),e.stopImmediatePropagation(),(0,i.kG)(u))}else!l&&c.dispatchEvent(new C({by:"root",owner:c,next:null,relatedEvent:e}))&&r.root.moveOutWithDefaultAction(o,e)},this._onChanged=(e,t)=>{var s,i;if(e)e.dispatchEvent(new w(t));else{const e=null===(s=this._lastVal)||void 0===s?void 0:s.get();if(e){const s={...t},n=ae.getTabsterContext(this._tabster,e),r=null===(i=null==n?void 0:n.modalizer)||void 0===i?void 0:i.userId;r&&(s.modalizerId=r),e.dispatchEvent(new E(s))}}},this._tabster=e,this._win=t,e.queueInit(this._init)}dispose(){super.dispose();const e=this._win(),t=e.document;t.removeEventListener(i.Oy,this._onFocusIn,!0),t.removeEventListener(i.RY,this._onFocusOut,!0),e.removeEventListener("keydown",this._onKeyDown,!0),this.unsubscribe(this._onChanged);const s=this._asyncFocus;s&&(e.clearTimeout(s.timeout),delete this._asyncFocus),delete be._lastResetElement,delete this._nextVal,delete this._lastVal}static forgetMemorized(e,t){var s,i;let n=be._lastResetElement,r=n&&n.get();r&&S.nodeContains(t,r)&&delete be._lastResetElement,r=null===(i=null===(s=e._nextVal)||void 0===s?void 0:s.element)||void 0===i?void 0:i.get(),r&&S.nodeContains(t,r)&&delete e._nextVal,n=e._lastVal,r=n&&n.get(),r&&S.nodeContains(t,r)&&delete e._lastVal}getFocusedElement(){return this.getVal()}getLastFocusedElement(){var e;let t=null===(e=this._lastVal)||void 0===e?void 0:e.get();return(!t||t&&!G(t.ownerDocument,t))&&(this._lastVal=t=void 0),t}focus(e,t,s,i){return!!this._tabster.focusable.isFocusable(e,t,!1,s)&&(e.focus({preventScroll:i}),!0)}focusDefault(e){const t=this._tabster.focusable.findDefault({container:e});return!!t&&(this._tabster.focusedElement.focus(t),!0)}getFirstOrLastTabbable(e,t){var s;const{container:i,ignoreAccessibility:n}=t;let r;if(i){const t=ae.getTabsterContext(this._tabster,i);t&&(r=null===(s=be.findNextTabbable(this._tabster,t,i,void 0,void 0,!e,n))||void 0===s?void 0:s.element)}return r&&!S.nodeContains(i,r)&&(r=void 0),r||void 0}_focusFirstOrLast(e,t){const s=this.getFirstOrLastTabbable(e,t);return!!s&&(this.focus(s,!1,!0),!0)}focusFirst(e){return this._focusFirstOrLast(!0,e)}focusLast(e){return this._focusFirstOrLast(!1,e)}resetFocus(e){if(!this._tabster.focusable.isVisible(e))return!1;if(this._tabster.focusable.isFocusable(e,!0,!0,!0))this.focus(e);else{const t=e.getAttribute("tabindex"),s=e.getAttribute("aria-hidden");e.tabIndex=-1,e.setAttribute("aria-hidden","true"),be._lastResetElement=new N(this._win,e),this.focus(e,!0,!0),this._setOrRemoveAttribute(e,"tabindex",t),this._setOrRemoveAttribute(e,"aria-hidden",s)}return!0}requestAsyncFocus(e,t,s){const i=this._tabster.getWindow(),n=this._asyncFocus;if(n){if(_e[e]>_e[n.source])return;i.clearTimeout(n.timeout)}this._asyncFocus={source:e,callback:t,timeout:i.setTimeout((()=>{this._asyncFocus=void 0,t()}),s)}}cancelAsyncFocus(e){const t=this._asyncFocus;(null==t?void 0:t.source)===e&&(this._tabster.getWindow().clearTimeout(t.timeout),this._asyncFocus=void 0)}_setOrRemoveAttribute(e,t,s){null===s?e.removeAttribute(t):e.setAttribute(t,s)}_setFocusedElement(e,t,s){var i,n;if(this._tabster._noop)return;const r={relatedTarget:t};if(e){const t=null===(i=be._lastResetElement)||void 0===i?void 0:i.get();if(be._lastResetElement=void 0,t===e||B(e))return;r.isFocusedProgrammatically=s;const o=ae.getTabsterContext(this._tabster,e),a=null===(n=null==o?void 0:o.modalizer)||void 0===n?void 0:n.userId;a&&(r.modalizerId=a)}const o=this._nextVal={element:e?new N(this._win,e):void 0,detail:r};e&&e!==this._val&&this._validateFocusedElement(e),this._nextVal===o&&this.setVal(e,r),this._nextVal=void 0}setVal(e,t){super.setVal(e,t),e&&(this._lastVal=new N(this._win,e))}static findNextTabbable(e,t,s,i,n,r,o){const a=s||t.root.getElement();if(!a)return null;let c=null;const u=be._isTabbingTimer,l=e.getWindow();u&&l.clearTimeout(u),be.isTabbing=!0,be._isTabbingTimer=l.setTimeout((()=>{delete be._isTabbingTimer,be.isTabbing=!1}),0);const h=t.modalizer,d=t.groupper,f=t.mover,p=t=>{if(c=t.findNextTabbable(i,n,r,o),i&&!(null==c?void 0:c.element)){const n=t!==h&&S.getParentElement(t.getElement());if(n){const a=ae.getTabsterContext(e,i,{referenceElement:n});if(a){const i=t.getElement(),u=r?i:i&&ee(i)||i;u&&(c=be.findNextTabbable(e,a,s,u,n,r,o),c&&(c.outOfDOMOrder=!0))}}}};if(d&&f)p(t.groupperBeforeMover?d:f);else if(d)p(d);else if(f)p(f);else if(h)p(h);else{const t={},s=e.focusable[r?"findPrev":"findNext"]({container:a,currentElement:i,referenceElement:n,ignoreAccessibility:o,useActiveModalizer:!0},t);c={element:s,outOfDOMOrder:t.outOfDOMOrder,uncontrolled:t.uncontrolled}}return c}}be.isTabbing=!1;class ge extends Y{constructor(e,t,s,n){super(s,e,4,n,!0),this._setHandlers(((n,r,o)=>{var a,c;const u=e.get(),l=n.input;if(u&&l){const e=ae.getTabsterContext(s,l);if(e){let h;h=null===(a=t.findNextTabbable(o||void 0,void 0,r,!0))||void 0===a?void 0:a.element,h||(h=null===(c=be.findNextTabbable(s,e,void 0,n.isOutside?l:function(e,t){let s=e,i=null;for(;s&&!i;)i=t?S.getPreviousElementSibling(s):S.getNextElementSibling(s),s=S.getParentElement(s);return i||void 0}(u,!r),void 0,r,!0))||void 0===c?void 0:c.element),h&&(0,i.kG)(h)}}}))}}class ye extends ${constructor(e,t,s,i,n){super(e,t,i),this._shouldTabInside=!1,this.makeTabbable(!1),this._onDispose=s,e.controlTab||(this.dummyManager=new ge(this._element,this,e,n))}dispose(){var e;this._onDispose(this),this._element.get(),null===(e=this.dummyManager)||void 0===e||e.dispose(),delete this.dummyManager,delete this._first}findNextTabbable(e,t,s,i){const n=this.getElement();if(!n)return null;const r=ie(e)===n;if(!this._shouldTabInside&&e&&S.nodeContains(n,e)&&!r)return{element:void 0,outOfDOMOrder:!0};const o=this.getFirst(!0);if(!e||!S.nodeContains(n,e)||r)return{element:o,outOfDOMOrder:!0};const a=this._tabster;let c,u=null,l=!1;if(this._shouldTabInside&&o){const r={};u=a.focusable[s?"findPrev":"findNext"]({container:n,currentElement:e,referenceElement:t,ignoreAccessibility:i,useActiveModalizer:!0},r),l=!!r.outOfDOMOrder,u||this._props.tabbability!==h.LimitedTrapFocus||(u=a.focusable[s?"findLast":"findFirst"]({container:n,ignoreAccessibility:i,useActiveModalizer:!0},r),l=!0),c=r.uncontrolled}return{element:u,uncontrolled:c,outOfDOMOrder:l}}makeTabbable(e){this._shouldTabInside=e||!this._props.tabbability}isActive(e){var t;const s=this.getElement()||null;let i=!0;for(let e=S.getParentElement(s);e;e=S.getParentElement(e)){const s=null===(t=d(this._tabster,e))||void 0===t?void 0:t.groupper;s&&(s._shouldTabInside||(i=!1))}let n=i?!!this._props.tabbability&&this._shouldTabInside:void 0;if(n&&e){const e=this._tabster.focusedElement.getFocusedElement();e&&(n=e!==this.getFirst(!0))}return n}getFirst(e){var t;const s=this.getElement();let i;if(s){if(e&&this._tabster.focusable.isFocusable(s))return s;i=null===(t=this._first)||void 0===t?void 0:t.get(),i||(i=this._tabster.focusable.findFirst({container:s,useActiveModalizer:!0})||void 0,i&&this.setFirst(i))}return i}setFirst(e){e?this._first=new N(this._tabster.getWindow,e):delete this._first}acceptElement(e,t){const s=t.cachedGrouppers,i=S.getParentElement(this.getElement()),n=i&&ae.getTabsterContext(this._tabster,i),r=null==n?void 0:n.groupper,o=(null==n?void 0:n.groupperBeforeMover)?r:void 0;let a;const c=e=>{let t,i=s[e.id];return i?t=i.isActive:(t=this.isActive(!0),i=s[e.id]={isActive:t}),t};if(o&&(a=o.getElement(),!c(o)&&a&&t.container!==a&&S.nodeContains(t.container,a)))return t.skippedFocusable=!0,NodeFilter.FILTER_REJECT;const u=c(this),l=this.getElement();if(l&&!0!==u){if(l===e&&r&&(a||(a=r.getElement()),a&&!c(r)&&S.nodeContains(t.container,a)&&a!==t.container))return t.skippedFocusable=!0,NodeFilter.FILTER_REJECT;if(l!==e&&S.nodeContains(l,e))return t.skippedFocusable=!0,NodeFilter.FILTER_REJECT;const i=s[this.id];let n;if(n="first"in i?i.first:i.first=this.getFirst(!0),n&&t.acceptCondition(n))return t.rejectElementsFrom=l,t.skippedFocusable=!0,n!==t.from?(t.found=!0,t.foundElement=n,NodeFilter.FILTER_ACCEPT):NodeFilter.FILTER_REJECT}}}class we{constructor(e,t){this._current={},this._grouppers={},this._init=()=>{const e=this._win();this._tabster.focusedElement.subscribeFirst(this._onFocus);const t=e.document,s=S.getActiveElement(t);s&&this._onFocus(s),t.addEventListener("mousedown",this._onMouseDown,!0),e.addEventListener("keydown",this._onKeyDown,!0),e.addEventListener(_,this._onMoveFocus)},this._onGroupperDispose=e=>{delete this._grouppers[e.id]},this._onFocus=e=>{e&&this._updateCurrent(e)},this._onMouseDown=e=>{let t=e.target;for(;t&&!this._tabster.focusable.isFocusable(t);)t=this._tabster.getParent(t);t&&this._updateCurrent(t)},this._onKeyDown=e=>{if(e.key!==le&&e.key!==he)return;if(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)return;const t=this._tabster.focusedElement.getFocusedElement();t&&this.handleKeyPress(t,e)},this._onMoveFocus=e=>{var t;const s=e.composedPath()[0],i=null===(t=e.detail)||void 0===t?void 0:t.action;s&&void 0!==i&&!e.defaultPrevented&&(1===i?this._enterGroupper(s):this._escapeGroupper(s),e.stopImmediatePropagation())},this._tabster=e,this._win=t,e.queueInit(this._init)}dispose(){const e=this._win();this._tabster.focusedElement.cancelAsyncFocus(1),this._current={},this._updateTimer&&(e.clearTimeout(this._updateTimer),delete this._updateTimer),this._tabster.focusedElement.unsubscribe(this._onFocus),e.document.removeEventListener("mousedown",this._onMouseDown,!0),e.removeEventListener("keydown",this._onKeyDown,!0),e.removeEventListener(_,this._onMoveFocus),Object.keys(this._grouppers).forEach((e=>{this._grouppers[e]&&(this._grouppers[e].dispose(),delete this._grouppers[e])}))}createGroupper(e,t,s){const i=this._tabster,n=new ye(i,e,this._onGroupperDispose,t,s);this._grouppers[n.id]=n;const r=i.focusedElement.getFocusedElement();return r&&S.nodeContains(e,r)&&!this._updateTimer&&(this._updateTimer=this._win().setTimeout((()=>{delete this._updateTimer,r===i.focusedElement.getFocusedElement()&&this._updateCurrent(r)}),0)),n}forgetCurrentGrouppers(){this._current={}}_updateCurrent(e){var t;this._updateTimer&&(this._win().clearTimeout(this._updateTimer),delete this._updateTimer);const s=this._tabster,i={};for(let n=s.getParent(e);n;n=s.getParent(n)){const r=null===(t=d(s,n))||void 0===t?void 0:t.groupper;if(r){i[r.id]=!0,this._current[r.id]=r;const t=r.isActive()||e!==n&&(!r.getProps().delegated||r.getFirst(!1)!==e);r.makeTabbable(t)}}for(const e of Object.keys(this._current)){const t=this._current[e];t.id in i||(t.makeTabbable(!1),t.setFirst(void 0),delete this._current[e])}}_enterGroupper(e,t){const s=this._tabster,i=ae.getTabsterContext(s,e),n=(null==i?void 0:i.groupper)||(null==i?void 0:i.modalizerInGroupper),r=null==n?void 0:n.getElement();if(n&&r&&(e===r||n.getProps().delegated&&e===n.getFirst(!1))){const i=s.focusable.findNext({container:r,currentElement:e,useActiveModalizer:!0});if(i&&(!t||t&&r.dispatchEvent(new C({by:"groupper",owner:r,next:i,relatedEvent:t}))))return t&&(t.preventDefault(),t.stopImmediatePropagation()),i.focus(),i}return null}_escapeGroupper(e,t,s){const i=this._tabster,n=ae.getTabsterContext(i,e);let r=(null==n?void 0:n.groupper)||(null==n?void 0:n.modalizerInGroupper);const o=null==r?void 0:r.getElement();if(r&&o&&S.nodeContains(o,e)){let n;if(e!==o||s)n=r.getFirst(!0);else{const e=S.getParentElement(o),t=e?ae.getTabsterContext(i,e):void 0;r=null==t?void 0:t.groupper,n=null==r?void 0:r.getFirst(!0)}if(n&&(!t||t&&o.dispatchEvent(new C({by:"groupper",owner:o,next:n,relatedEvent:t}))))return r&&r.makeTabbable(!1),n.focus(),n}return null}moveFocus(e,t){return 1===t?this._enterGroupper(e):this._escapeGroupper(e)}handleKeyPress(e,t,s){const i=this._tabster,n=ae.getTabsterContext(i,e);if(n&&((null==n?void 0:n.groupper)||(null==n?void 0:n.modalizerInGroupper))){if(i.focusedElement.cancelAsyncFocus(1),n.ignoreKeydown(t))return;if(t.key===le)this._enterGroupper(e,t);else if(t.key===he){const n=i.focusedElement.getFocusedElement();i.focusedElement.requestAsyncFocus(1,(()=>{(n===i.focusedElement.getFocusedElement()||(!s||n)&&s)&&this._escapeGroupper(e,t,s)}),0)}}}}class Ee extends ce{constructor(e){super(),this._onChange=e=>{this.setVal(e,void 0)},this._keyborg=(0,i.SQ)(e()),this._keyborg.subscribe(this._onChange)}dispose(){super.dispose(),this._keyborg&&(this._keyborg.unsubscribe(this._onChange),(0,i.bd)(this._keyborg),delete this._keyborg)}setNavigatingWithKeyboard(e){var t;null===(t=this._keyborg)||void 0===t||t.setVal(e)}isNavigatingWithKeyboard(){var e;return!!(null===(e=this._keyborg)||void 0===e?void 0:e.isNavigatingWithKeyboard())}}let Ce=0;const Te="aria-hidden";class Re extends Y{constructor(e,t,s){super(t,e,2,s),this._setHandlers(((s,n)=>{var r,o;const a=e.get(),c=a&&(null===(r=ae.getRoot(t,a))||void 0===r?void 0:r.getElement()),u=s.input;let l;if(c&&u){const e=ie(u),s=ae.getTabsterContext(t,e||u);s&&(l=null===(o=be.findNextTabbable(t,s,c,u,void 0,n,!0))||void 0===o?void 0:o.element),l&&(0,i.kG)(l)}}))}}class Oe extends ${constructor(e,t,s,i,n,r){super(e,t,i),this._wasFocused=0,this.userId=i.id,this._onDispose=s,this._activeElements=r,e.controlTab||(this.dummyManager=new Re(this._element,e,n))}makeActive(e){if(this._isActive!==e){this._isActive=e;const t=this.getElement();if(t){const s=this._activeElements,i=s.map((e=>e.get())).indexOf(t);e?i<0&&s.push(new N(this._tabster.getWindow,t)):i>=0&&s.splice(i,1)}this._dispatchEvent(e)}}focused(e){return e||(this._wasFocused=++Ce),this._wasFocused}setProps(e){e.id&&(this.userId=e.id),this._props={...e}}dispose(){var e;this.makeActive(!1),this._onDispose(this),null===(e=this.dummyManager)||void 0===e||e.dispose(),delete this.dummyManager,this._activeElements=[],this._remove()}isActive(){return!!this._isActive}contains(e){return S.nodeContains(this.getElement(),e)}findNextTabbable(e,t,s,i){var n,r;if(!this.getElement())return null;const o=this._tabster;let a,c=null,u=!1;const l=e&&(null===(n=ae.getRoot(o,e))||void 0===n?void 0:n.getElement());if(l){const n={};c=o.focusable[s?"findPrev":"findNext"]({container:l,currentElement:e,referenceElement:t,ignoreAccessibility:i,useActiveModalizer:!0},n),!c&&this._props.isTrapped&&(null===(r=o.modalizer)||void 0===r?void 0:r.activeId)?(c=o.focusable[s?"findLast":"findFirst"]({container:l,ignoreAccessibility:i,useActiveModalizer:!0},n),null===c&&(c=e),u=!0):u=!!n.outOfDOMOrder,a=n.uncontrolled}return{element:c,uncontrolled:a,outOfDOMOrder:u}}_dispatchEvent(e,t){const s=this.getElement();let i=!1;if(s){const n=t?this._activeElements.map((e=>e.get())):[s];for(const t of n)if(t){const n={id:this.userId,element:s},r=e?new R(n):new O(n);t.dispatchEvent(r),r.defaultPrevented&&(i=!0)}}return i}_remove(){}}class Fe{constructor(e,t,s){this._onModalizerDispose=e=>{const t=e.id,s=e.userId,i=this._parts[s];if(delete this._modalizers[t],i&&(delete i[t],0===Object.keys(i).length)){delete this._parts[s];const e=this._activationHistory,t=[];let i;for(let n=e.length;n--;){const r=e[n];r!==s&&r!==i&&(i=r,(r||t.length>0)&&t.unshift(r))}if(this._activationHistory=t,this.activeId===s){const e=t[0],s=e?Object.values(this._parts[e])[0]:void 0;this.setActive(s)}}},this._onKeyDown=e=>{var t;if(e.key!==he)return;const s=this._tabster,i=s.focusedElement.getFocusedElement();if(i){const n=ae.getTabsterContext(s,i),r=null==n?void 0:n.modalizer;if(n&&!n.groupper&&(null==r?void 0:r.isActive())&&!n.ignoreKeydown(e)){const i=r.userId;if(i){const n=this._parts[i];if(n){const i=Object.keys(n).map((e=>{var t;const i=n[e],r=i.getElement();let o;return r&&(o=null===(t=d(s,r))||void 0===t?void 0:t.groupper),i&&r&&o?{el:r,focusedSince:i.focused(!0)}:{focusedSince:0}})).filter((e=>e.focusedSince>0)).sort(((e,t)=>e.focusedSince>t.focusedSince?-1:e.focusedSince<t.focusedSince?1:0));if(i.length){const n=i[0].el;n&&(null===(t=s.groupper)||void 0===t||t.handleKeyPress(n,e,!0))}}}}}},this._onFocus=(e,t)=>{var s;const i=this._tabster,n=e&&ae.getTabsterContext(i,e);if(!n||!e)return;const r=this._augMap;for(let t=e;t;t=i.getParent(t))r.has(t)&&(r.delete(t),te(i,t,Te));let o=n.modalizer;const a=d(i,e),c=null==a?void 0:a.modalizer;if(c&&(c.focused(),c.userId===this.activeId&&a.groupper)){const t=i.getParent(e),n=t&&(null===(s=ae.getTabsterContext(i,t))||void 0===s?void 0:s.modalizer);if(!n)return void this.setActive(void 0);o=n}if(null==o||o.focused(),(null==o?void 0:o.userId)!==this.activeId)if(t.isFocusedProgrammatically||this.currentIsOthersAccessible||(null==o?void 0:o.getProps().isAlwaysAccessible))this.setActive(o);else{const t=this._win();t.clearTimeout(this._restoreModalizerFocusTimer),this._restoreModalizerFocusTimer=t.setTimeout((()=>this._restoreModalizerFocus(e)),100)}else this.currentIsOthersAccessible=null==o?void 0:o.getProps().isOthersAccessible},this._tabster=e,this._win=e.getWindow,this._modalizers={},this._parts={},this._augMap=new WeakMap,this._aug=[],this._alwaysAccessibleSelector=t,this._accessibleCheck=s,this._activationHistory=[],this.activeElements=[],e.controlTab||e.root.addDummyInputs(),this._win().addEventListener("keydown",this._onKeyDown,!0),e.queueInit((()=>{this._tabster.focusedElement.subscribe(this._onFocus)}))}dispose(){const e=this._win();e.removeEventListener("keydown",this._onKeyDown,!0),Object.keys(this._modalizers).forEach((e=>{this._modalizers[e]&&(this._modalizers[e].dispose(),delete this._modalizers[e])})),e.clearTimeout(this._restoreModalizerFocusTimer),e.clearTimeout(this._hiddenUpdateTimer),this._parts={},delete this.activeId,this.activeElements=[],this._augMap=new WeakMap,this._aug=[],this._tabster.focusedElement.unsubscribe(this._onFocus)}createModalizer(e,t,s){var i;const n=new Oe(this._tabster,e,this._onModalizerDispose,t,s,this.activeElements),r=n.id,o=t.id;this._modalizers[r]=n;let a=this._parts[o];a||(a=this._parts[o]={}),a[r]=n;const c=null!==(i=this._tabster.focusedElement.getFocusedElement())&&void 0!==i?i:null;return e!==c&&S.nodeContains(e,c)&&(o!==this.activeId?this.setActive(n):n.makeActive(!0)),n}isAugmented(e){return this._augMap.has(e)}hiddenUpdate(){this._hiddenUpdateTimer||(this._hiddenUpdateTimer=this._win().setTimeout((()=>{delete this._hiddenUpdateTimer,this._hiddenUpdate()}),250))}setActive(e){const t=null==e?void 0:e.userId,s=this.activeId;if(s===t)return;if(this.activeId=t,s){const e=this._parts[s];if(e)for(const t of Object.keys(e))e[t].makeActive(!1)}if(t){const e=this._parts[t];if(e)for(const t of Object.keys(e))e[t].makeActive(!0)}this.currentIsOthersAccessible=null==e?void 0:e.getProps().isOthersAccessible,this.hiddenUpdate();const i=this._activationHistory;i[0]!==t&&(void 0!==t||i.length>0)&&i.unshift(t)}focus(e,t,s){const i=this._tabster,n=ae.getTabsterContext(i,e),r=null==n?void 0:n.modalizer;if(r){this.setActive(r);const e=r.getProps(),n=r.getElement();if(n){if(void 0===t&&(t=e.isNoFocusFirst),!t&&i.keyboardNavigation.isNavigatingWithKeyboard()&&i.focusedElement.focusFirst({container:n}))return!0;if(void 0===s&&(s=e.isNoFocusDefault),!s&&i.focusedElement.focusDefault(n))return!0;i.focusedElement.resetFocus(n)}}return!1}activate(e){var t;const s=e?null===(t=ae.getTabsterContext(this._tabster,e))||void 0===t?void 0:t.modalizer:void 0;return!(e&&!s||(this.setActive(s),0))}acceptElement(e,t){var s;const i=t.modalizerUserId,n=null===(s=t.currentCtx)||void 0===s?void 0:s.modalizer;if(i)for(const t of this.activeElements){const s=t.get();if(s&&(S.nodeContains(e,s)||s===e))return NodeFilter.FILTER_SKIP}const r=i===(null==n?void 0:n.userId)||!i&&(null==n?void 0:n.getProps().isAlwaysAccessible)?void 0:NodeFilter.FILTER_SKIP;return void 0!==r&&(t.skippedFocusable=!0),r}_hiddenUpdate(){var e;const t=this._tabster,s=t.getWindow().document.body,i=this.activeId,n=this._parts,r=[],o=[],a=this._alwaysAccessibleSelector,c=a?Array.from(S.querySelectorAll(s,a)):[],u=[];for(const e of Object.keys(n)){const t=n[e];for(const s of Object.keys(t)){const n=t[s],a=n.getElement(),l=n.getProps().isAlwaysAccessible;a&&(e===i?(u.push(a),this.currentIsOthersAccessible||r.push(a)):l?c.push(a):o.push(a))}}const l=this._augMap,h=r.length>0?[...r,...c]:void 0,d=[],f=new WeakMap,p=(e,s)=>{var i;const n=e.tagName;if("SCRIPT"===n||"STYLE"===n)return;let r=!1;l.has(e)?s?r=!0:(l.delete(e),te(t,e,Te)):s&&!(null===(i=this._accessibleCheck)||void 0===i?void 0:i.call(this,e,u))&&te(t,e,Te,"true")&&(l.set(e,!0),r=!0),r&&(d.push(new N(t.getWindow,e)),f.set(e,!0))},m=e=>{var s;for(let i=S.getFirstElementChild(e);i;i=S.getNextElementSibling(i)){let e=!1,n=!1,r=!1;if(h){const o=t.getParent(i);for(const t of h){if(i===t){e=!0;break}if(S.nodeContains(i,t)){n=!0;break}S.nodeContains(t,o)&&(r=!0)}n||(null===(s=i.__tabsterElementFlags)||void 0===s?void 0:s.noDirectAriaHidden)?m(i):e||r||p(i,!0)}else p(i,!1)}};h||c.forEach((e=>p(e,!1))),o.forEach((e=>p(e,!0))),s&&m(s),null===(e=this._aug)||void 0===e||e.map((e=>e.get())).forEach((e=>{e&&!f.get(e)&&p(e,!1)})),this._aug=d,this._augMap=f}_restoreModalizerFocus(e){if(!e||!(null==e?void 0:e.ownerDocument))return;const t=this._tabster,s=ae.getTabsterContext(t,e),i=null==s?void 0:s.modalizer,n=this.activeId;if(!i&&!n||i&&n===i.userId)return;const r=null==s?void 0:s.root.getElement();if(r){let s=t.focusable.findFirst({container:r,useActiveModalizer:!0});if(s){if(e.compareDocumentPosition(s)&document.DOCUMENT_POSITION_PRECEDING&&(s=t.focusable.findLast({container:r,useActiveModalizer:!0}),!s))throw new Error("Something went wrong.");return void t.focusedElement.focus(s)}}e.blur()}}const Ie=["input","textarea","*[contenteditable]"].join(", ");class ke extends Y{constructor(e,t,s,n){super(t,e,3,n),this._onFocusDummyInput=e=>{var t,s;const n=this._element.get(),r=e.input;if(n&&r){const o=ae.getTabsterContext(this._tabster,n);let a;o&&(a=null===(t=be.findNextTabbable(this._tabster,o,void 0,r,void 0,!e.isFirst,!0))||void 0===t?void 0:t.element);const c=null===(s=this._getMemorized())||void 0===s?void 0:s.get();c&&this._tabster.focusable.isFocusable(c)&&(a=c),a&&(0,i.kG)(a)}},this._tabster=t,this._getMemorized=s,this._setHandlers(this._onFocusDummyInput)}}class Se extends ${constructor(e,t,s,i,n){var r;super(e,t,i),this._visible={},this._onIntersection=e=>{for(const t of e){const e=t.target,s=Q(this._win,e);let i,n=this._fullyVisible;if(t.intersectionRatio>=.25?(i=t.intersectionRatio>=.75?2:1,2===i&&(n=s)):i=0,this._visible[s]!==i){void 0===i?(delete this._visible[s],n===s&&delete this._fullyVisible):(this._visible[s]=i,this._fullyVisible=n);const t=this.getState(e);t&&e.dispatchEvent(new T(t))}}},this._win=e.getWindow,this.visibilityTolerance=null!==(r=i.visibilityTolerance)&&void 0!==r?r:.8,(this._props.trackState||this._props.visibilityAware)&&(this._intersectionObserver=new IntersectionObserver(this._onIntersection,{threshold:[0,.25,.5,.75,1]}),this._observeState()),this._onDispose=s,e.controlTab||(this.dummyManager=new ke(this._element,e,(()=>i.memorizeCurrent?this._current:void 0),n))}dispose(){var e;this._onDispose(this),this._intersectionObserver&&(this._intersectionObserver.disconnect(),delete this._intersectionObserver),delete this._current,delete this._fullyVisible,delete this._allElements,delete this._updateQueue,this._unobserve&&(this._unobserve(),delete this._unobserve);const t=this._win();this._setCurrentTimer&&(t.clearTimeout(this._setCurrentTimer),delete this._setCurrentTimer),this._updateTimer&&(t.clearTimeout(this._updateTimer),delete this._updateTimer),null===(e=this.dummyManager)||void 0===e||e.dispose(),delete this.dummyManager}setCurrent(e){this._current=e?new N(this._win,e):void 0,!this._props.trackState&&!this._props.visibilityAware||this._setCurrentTimer||(this._setCurrentTimer=this._win().setTimeout((()=>{var e;delete this._setCurrentTimer;const t=[];this._current!==this._prevCurrent&&(t.push(this._current),t.push(this._prevCurrent),this._prevCurrent=this._current);for(const s of t){const t=null==s?void 0:s.get();if(t&&(null===(e=this._allElements)||void 0===e?void 0:e.get(t))===this){const e=this._props;if(t&&(void 0!==e.visibilityAware||e.trackState)){const e=this.getState(t);e&&t.dispatchEvent(new T(e))}}}})))}getCurrent(){var e;return(null===(e=this._current)||void 0===e?void 0:e.get())||null}findNextTabbable(e,t,s,i){const n=this.getElement(),r=n&&ie(e)===n;if(!n)return null;let o,a=null,c=!1;if(this._props.tabbable||r||e&&!S.nodeContains(n,e)){const r={};a=this._tabster.focusable[s?"findPrev":"findNext"]({currentElement:e,referenceElement:t,container:n,ignoreAccessibility:i,useActiveModalizer:!0},r),c=!!r.outOfDOMOrder,o=r.uncontrolled}return{element:a,uncontrolled:o,outOfDOMOrder:c}}acceptElement(e,t){var s,i;if(!be.isTabbing)return(null===(s=t.currentCtx)||void 0===s?void 0:s.excludedFromMover)?NodeFilter.FILTER_REJECT:void 0;const{memorizeCurrent:n,visibilityAware:r,hasDefault:o=!0}=this._props,a=this.getElement();if(a&&(n||r||o)&&(!S.nodeContains(a,t.from)||ie(t.from)===a)){let e;if(n){const s=null===(i=this._current)||void 0===i?void 0:i.get();s&&t.acceptCondition(s)&&(e=s)}if(!e&&o&&(e=this._tabster.focusable.findDefault({container:a,useActiveModalizer:!0})),!e&&r&&(e=this._tabster.focusable.findElement({container:a,useActiveModalizer:!0,isBackward:t.isBackward,acceptCondition:e=>{var s;const i=Q(this._win,e),n=this._visible[i];return a!==e&&!!(null===(s=this._allElements)||void 0===s?void 0:s.get(e))&&t.acceptCondition(e)&&(2===n||1===n&&(1===r||!this._fullyVisible))}})),e)return t.found=!0,t.foundElement=e,t.rejectElementsFrom=a,t.skippedFocusable=!0,NodeFilter.FILTER_ACCEPT}}_observeState(){const e=this.getElement();if(this._unobserve||!e||"undefined"==typeof MutationObserver)return;const t=this._win(),s=this._allElements=new WeakMap,i=this._tabster.focusable;let n=this._updateQueue=[];const r=S.createMutationObserver((e=>{for(const t of e){const e=t.removedNodes,s=t.addedNodes;if("attributes"===t.type)"tabindex"===t.attributeName&&n.push({element:t.target,type:2});else{for(let t=0;t<e.length;t++)n.push({element:e[t],type:3});for(let e=0;e<s.length;e++)n.push({element:s[e],type:1})}}l()})),o=(e,t)=>{var i,n;const r=s.get(e);r&&t&&(null===(i=this._intersectionObserver)||void 0===i||i.unobserve(e),s.delete(e)),r||t||(s.set(e,this),null===(n=this._intersectionObserver)||void 0===n||n.observe(e))},a=e=>{const t=i.isFocusable(e);s.get(e)?t||o(e,!0):t&&o(e)},c=e=>{const{mover:s}=h(e);if(s&&s!==this){if(s.getElement()!==e||!i.isFocusable(e))return;o(e)}const n=U(t.document,e,(e=>{const{mover:t,groupper:s}=h(e);if(t&&t!==this)return NodeFilter.FILTER_REJECT;const n=null==s?void 0:s.getFirst(!0);return s&&s.getElement()!==e&&n&&n!==e?NodeFilter.FILTER_REJECT:(i.isFocusable(e)&&o(e),NodeFilter.FILTER_SKIP)}));if(n)for(n.currentNode=e;n.nextNode(););},u=e=>{s.get(e)&&o(e,!0);for(let t=S.getFirstElementChild(e);t;t=S.getNextElementSibling(t))u(t)},l=()=>{!this._updateTimer&&n.length&&(this._updateTimer=t.setTimeout((()=>{delete this._updateTimer;for(const{element:e,type:t}of n)switch(t){case 2:a(e);break;case 1:c(e);break;case 3:u(e)}n=this._updateQueue=[]}),0))},h=e=>{const t={};for(let s=e;s;s=S.getParentElement(s)){const e=d(this._tabster,s);if(e&&(e.groupper&&!t.groupper&&(t.groupper=e.groupper),e.mover)){t.mover=e.mover;break}}return t};n.push({element:e,type:1}),l(),r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["tabindex"]}),this._unobserve=()=>{r.disconnect()}}getState(e){const t=Q(this._win,e);if(t in this._visible){const s=this._visible[t]||0;return{isCurrent:this._current?this._current.get()===e:void 0,visibility:s}}}}class Pe{constructor(e,t){this._init=()=>{const e=this._win();e.addEventListener("keydown",this._onKeyDown,!0),e.addEventListener(m,this._onMoveFocus),e.addEventListener(v,this._onMemorizedElement),this._tabster.focusedElement.subscribe(this._onFocus)},this._onMoverDispose=e=>{delete this._movers[e.id]},this._onFocus=e=>{var t;let s=e,i=e;for(let n=S.getParentElement(e);n;n=S.getParentElement(n)){const e=null===(t=d(this._tabster,n))||void 0===t?void 0:t.mover;e&&(e.setCurrent(i),s=void 0),!s&&this._tabster.focusable.isFocusable(n)&&(s=i=n)}},this._onKeyDown=async e=>{var t;if(this._ignoredInputTimer&&(this._win().clearTimeout(this._ignoredInputTimer),delete this._ignoredInputTimer),null===(t=this._ignoredInputResolve)||void 0===t||t.call(this,!1),e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)return;const s=e.key;let i;if(s===ve?i=2:s===me?i=4:s===pe?i=1:s===fe?i=3:"PageDown"===s?i=6:"PageUp"===s?i=5:s===de?i=7:"End"===s&&(i=8),!i)return;const n=this._tabster.focusedElement.getFocusedElement();n&&!await this._isIgnoredInput(n,s)&&this._moveFocus(n,i,e)},this._onMoveFocus=e=>{var t;const s=e.composedPath()[0],i=null===(t=e.detail)||void 0===t?void 0:t.key;s&&void 0!==i&&!e.defaultPrevented&&(this._moveFocus(s,i),e.stopImmediatePropagation())},this._onMemorizedElement=e=>{var t;const s=e.composedPath()[0];let i=null===(t=e.detail)||void 0===t?void 0:t.memorizedElement;if(s){const t=ae.getTabsterContext(this._tabster,s),n=null==t?void 0:t.mover;n&&(i&&!S.nodeContains(n.getElement(),i)&&(i=void 0),n.setCurrent(i),e.stopImmediatePropagation())}},this._tabster=e,this._win=t,this._movers={},e.queueInit(this._init)}dispose(){var e;const t=this._win();this._tabster.focusedElement.unsubscribe(this._onFocus),null===(e=this._ignoredInputResolve)||void 0===e||e.call(this,!1),this._ignoredInputTimer&&(t.clearTimeout(this._ignoredInputTimer),delete this._ignoredInputTimer),t.removeEventListener("keydown",this._onKeyDown,!0),t.removeEventListener(m,this._onMoveFocus),t.removeEventListener(v,this._onMemorizedElement),Object.keys(this._movers).forEach((e=>{this._movers[e]&&(this._movers[e].dispose(),delete this._movers[e])}))}createMover(e,t,s){const i=new Se(this._tabster,e,this._onMoverDispose,t,s);return this._movers[i.id]=i,i}moveFocus(e,t){return this._moveFocus(e,t)}_moveFocus(e,t,s){var n,r;const o=this._tabster,a=ae.getTabsterContext(o,e,{checkRtl:!0});if(!a||!a.mover||a.excludedFromMover||s&&a.ignoreKeydown(s))return null;const c=a.mover,u=c.getElement();if(a.groupperBeforeMover){const e=a.groupper;if(!e||e.isActive(!0))return null;for(let t=S.getParentElement(e.getElement());t&&t!==u;t=S.getParentElement(t))if(null===(r=null===(n=d(o,t))||void 0===n?void 0:n.groupper)||void 0===r?void 0:r.isActive(!0))return null}if(!u)return null;const h=o.focusable,f=c.getProps(),p=f.direction||l.Both,m=p===l.Both,v=m||p===l.Vertical,_=m||p===l.Horizontal,b=p===l.GridLinear,g=b||p===l.Grid,y=f.cyclic;let w,E,T,R=0,O=0;if(g&&(T=e.getBoundingClientRect(),R=Math.ceil(T.left),O=Math.floor(T.right)),a.rtl&&(4===t?t=3:3===t&&(t=4)),2===t&&v||4===t&&(_||g))if(w=h.findNext({currentElement:e,container:u,useActiveModalizer:!0}),w&&g){const e=Math.ceil(w.getBoundingClientRect().left);!b&&O>e&&(w=void 0)}else!w&&y&&(w=h.findFirst({container:u,useActiveModalizer:!0}));else if(1===t&&v||3===t&&(_||g))if(w=h.findPrev({currentElement:e,container:u,useActiveModalizer:!0}),w&&g){const e=Math.floor(w.getBoundingClientRect().right);!b&&e>R&&(w=void 0)}else!w&&y&&(w=h.findLast({container:u,useActiveModalizer:!0}));else if(7===t)g?h.findElement({container:u,currentElement:e,useActiveModalizer:!0,isBackward:!0,acceptCondition:t=>{var s;if(!h.isFocusable(t))return!1;const i=Math.ceil(null!==(s=t.getBoundingClientRect().left)&&void 0!==s?s:0);return t!==e&&R<=i||(w=t,!1)}}):w=h.findFirst({container:u,useActiveModalizer:!0});else if(8===t)g?h.findElement({container:u,currentElement:e,useActiveModalizer:!0,acceptCondition:t=>{var s;if(!h.isFocusable(t))return!1;const i=Math.ceil(null!==(s=t.getBoundingClientRect().left)&&void 0!==s?s:0);return t!==e&&R>=i||(w=t,!1)}}):w=h.findLast({container:u,useActiveModalizer:!0});else if(5===t){if(h.findElement({currentElement:e,container:u,useActiveModalizer:!0,isBackward:!0,acceptCondition:e=>!(!h.isFocusable(e)||W(this._win,e,c.visibilityTolerance)&&(w=e,1))}),g&&w){const e=Math.ceil(w.getBoundingClientRect().left);h.findElement({currentElement:w,container:u,useActiveModalizer:!0,acceptCondition:t=>{if(!h.isFocusable(t))return!1;const s=Math.ceil(t.getBoundingClientRect().left);return R<s||e>=s||(w=t,!1)}})}E=!1}else if(6===t){if(h.findElement({currentElement:e,container:u,useActiveModalizer:!0,acceptCondition:e=>!(!h.isFocusable(e)||W(this._win,e,c.visibilityTolerance)&&(w=e,1))}),g&&w){const e=Math.ceil(w.getBoundingClientRect().left);h.findElement({currentElement:w,container:u,useActiveModalizer:!0,isBackward:!0,acceptCondition:t=>{if(!h.isFocusable(t))return!1;const s=Math.ceil(t.getBoundingClientRect().left);return R>s||e<=s||(w=t,!1)}})}E=!0}else if(g){const s=1===t,i=R,n=Math.ceil(T.top),r=O,o=Math.floor(T.bottom);let a,c,l=0;h.findAll({container:u,currentElement:e,isBackward:s,onElement:e=>{const t=e.getBoundingClientRect(),u=Math.ceil(t.left),h=Math.ceil(t.top),d=Math.floor(t.right),f=Math.floor(t.bottom);if(s&&n<f||!s&&o>h)return!0;const p=Math.ceil(Math.min(r,d))-Math.floor(Math.max(i,u)),m=Math.ceil(Math.min(r-i,d-u));if(p>0&&m>=p){const t=p/m;t>l&&(a=e,l=t)}else if(0===l){const t=function(e,t,s,i,n,r,o,a){const c=s<n?n-s:o<e?e-o:0,u=i<r?r-i:a<t?t-a:0;return 0===c?u:0===u?c:Math.sqrt(c*c+u*u)}(i,n,r,o,u,h,d,f);(void 0===c||t<c)&&(c=t,a=e)}else if(l>0)return!1;return!0}}),w=a}return w&&(!s||s&&u.dispatchEvent(new C({by:"mover",owner:u,next:w,relatedEvent:s})))?(void 0!==E&&function(e,t,s){const i=K(t);if(i){const n=j(e,i),r=t.getBoundingClientRect();i.scrollTop+=s?r.top-n.top:r.bottom-n.bottom}}(this._win,w,E),s&&(s.preventDefault(),s.stopImmediatePropagation()),(0,i.kG)(w),w):null}async _isIgnoredInput(e,t){if("true"===e.getAttribute("aria-expanded")&&e.hasAttribute("aria-activedescendant"))return!0;if(V(e,Ie)){let s,i=0,n=0,r=0;if("INPUT"===e.tagName||"TEXTAREA"===e.tagName){const s=e.type;if(r=(e.value||"").length,"email"===s||"number"===s){if(r){const s=S.getSelection(e);if(s){const e=s.toString().length,i=t===fe||t===pe;if(s.modify("extend",i?"backward":"forward","character"),e!==s.toString().length)return s.modify("extend",i?"forward":"backward","character"),!0;r=0}}}else{const t=e.selectionStart;if(null===t)return"hidden"===s;i=t||0,n=e.selectionEnd||0}}else"true"===e.contentEditable&&(s=new(function(e){const t=M(e);if(t.basics.Promise)return t.basics.Promise;throw new Error("No Promise defined.")}(this._win))((t=>{this._ignoredInputResolve=e=>{delete this._ignoredInputResolve,t(e)};const s=this._win();this._ignoredInputTimer&&s.clearTimeout(this._ignoredInputTimer);const{anchorNode:o,focusNode:a,anchorOffset:c,focusOffset:u}=S.getSelection(e)||{};this._ignoredInputTimer=s.setTimeout((()=>{var t,s,l;delete this._ignoredInputTimer;const{anchorNode:h,focusNode:d,anchorOffset:f,focusOffset:p}=S.getSelection(e)||{};if(h===o&&d===a&&f===c&&p===u){if(i=f||0,n=p||0,r=(null===(s=e.textContent)||void 0===s?void 0:s.length)||0,h&&d&&S.nodeContains(e,h)&&S.nodeContains(e,d)&&h!==e){let t=!1;const s=e=>{if(e===h)t=!0;else if(e===d)return!0;const r=e.textContent;if(r&&!S.getFirstChild(e)){const e=r.length;t?d!==h&&(n+=e):(i+=e,n+=e)}let o=!1;for(let t=S.getFirstChild(e);t&&!o;t=t.nextSibling)o=s(t);return o};s(e)}null===(l=this._ignoredInputResolve)||void 0===l||l.call(this,!0)}else null===(t=this._ignoredInputResolve)||void 0===t||t.call(this,!1)}),0)})));if(s&&!await s)return!0;if(i!==n)return!0;if(i>0&&(t===fe||t===pe||t===de))return!0;if(i<r&&(t===me||t===ve||"End"===t))return!0}return!1}}class De{constructor(e){this._isUncontrolledCompletely=e}isUncontrolledCompletely(e,t){var s;const i=null===(s=this._isUncontrolledCompletely)||void 0===s?void 0:s.call(this,e,t);return void 0===i?t:i}}class xe extends ${constructor(e,t,s){var i;if(super(e,t,s),this._hasFocus=!1,this._onFocusOut=e=>{var t;const s=null===(t=this._element)||void 0===t?void 0:t.get();s&&null===e.relatedTarget&&s.dispatchEvent(new F),s&&!S.nodeContains(s,e.relatedTarget)&&(this._hasFocus=!1)},this._onFocusIn=()=>{this._hasFocus=!0},this._props.type===u.Source){const e=null===(i=this._element)||void 0===i?void 0:i.get();null==e||e.addEventListener("focusout",this._onFocusOut),null==e||e.addEventListener("focusin",this._onFocusIn),this._hasFocus=S.nodeContains(e,e&&S.getActiveElement(e.ownerDocument))}}dispose(){var e;if(this._props.type===u.Source){const t=null===(e=this._element)||void 0===e?void 0:e.get();null==t||t.removeEventListener("focusout",this._onFocusOut),null==t||t.removeEventListener("focusin",this._onFocusIn),this._hasFocus&&this._tabster.getWindow().document.body.dispatchEvent(new F)}}}class Me{constructor(e){this._stack=[],this._getWindow=e}push(e){var t;(null===(t=this._stack[this._stack.length-1])||void 0===t?void 0:t.get())!==e&&(this._stack.length>Me.DEPTH&&this._stack.shift(),this._stack.push(new N(this._getWindow,e)))}pop(e){var t;void 0===e&&(e=()=>!0);const s=this._getWindow().document;for(let i=this._stack.length-1;i>=0;i--){const i=null===(t=this._stack.pop())||void 0===t?void 0:t.get();if(i&&S.nodeContains(s.body,S.getParentElement(i))&&e(i))return i}}}Me.DEPTH=10;class Ae{constructor(e){this._onRestoreFocus=e=>{var t,s;this._focusedElementState.cancelAsyncFocus(2);const i=e.composedPath()[0];if(i){const e=null===(s=null===(t=d(this._tabster,i))||void 0===t?void 0:t.restorer)||void 0===s?void 0:s.getProps().id;this._focusedElementState.requestAsyncFocus(2,(()=>this._restoreFocus(i,e)),0)}},this._onFocusIn=e=>{var t;if(!e)return;const s=d(this._tabster,e);(null===(t=null==s?void 0:s.restorer)||void 0===t?void 0:t.getProps().type)===u.Target&&this._history.push(e)},this._restoreFocus=(e,t)=>{var s;const i=this._getWindow().document;if(S.getActiveElement(i)!==i.body)return;if(!this._keyboardNavState.isNavigatingWithKeyboard()&&S.nodeContains(i.body,e))return;const n=e=>{var t,s;return null===(s=null===(t=d(this._tabster,e))||void 0===t?void 0:t.restorer)||void 0===s?void 0:s.getProps().id};null===(s=this._history.pop((e=>t===n(e))))||void 0===s||s.focus()},this._tabster=e,this._getWindow=e.getWindow,this._getWindow().addEventListener(b,this._onRestoreFocus),this._history=new Me(this._getWindow),this._keyboardNavState=e.keyboardNavigation,this._focusedElementState=e.focusedElement,this._focusedElementState.subscribe(this._onFocusIn)}dispose(){const e=this._getWindow();this._focusedElementState.unsubscribe(this._onFocusIn),this._focusedElementState.cancelAsyncFocus(2),e.removeEventListener(b,this._onRestoreFocus)}createRestorer(e,t){const s=new xe(this._tabster,e,t);return t.type===u.Target&&S.getActiveElement(e.ownerDocument)===e&&this._history.push(e),s}}class Ne{static _overrideAttachShadow(e){const t=e.Element.prototype.attachShadow;t.__origAttachShadow||(Element.prototype.attachShadow=function(e){const s=t.call(this,e);for(const e of Ne._shadowObservers)e._addSubObserver(s);return s},Element.prototype.attachShadow.__origAttachShadow=t)}constructor(e){this._isObserving=!1,this._callbackWrapper=(e,t)=>{for(const t of e)if("childList"===t.type){const e=t.removedNodes,s=t.addedNodes;for(let t=0;t<e.length;t++)this._walkShadows(e[t],!0);for(let e=0;e<s.length;e++)this._walkShadows(s[e])}this._callback(e,t)},this._callback=e,this._observer=new MutationObserver(this._callbackWrapper),this._subObservers=new Map}_addSubObserver(e){if(this._options&&this._callback&&!this._subObservers.has(e)&&this._options.subtree&&function(e,t){var s,i;if(!e||!t)return!1;let n=t;for(;n;){if(n===e)return!0;n="function"!=typeof n.assignedElements&&(null===(s=n.assignedSlot)||void 0===s?void 0:s.parentNode)?null===(i=n.assignedSlot)||void 0===i?void 0:i.parentNode:n.nodeType===document.DOCUMENT_FRAGMENT_NODE?n.host:n.parentNode}return!1}(this._root,e)){const t=new MutationObserver(this._callbackWrapper);this._subObservers.set(e,t),this._isObserving&&t.observe(e,this._options),this._walkShadows(e)}}disconnect(){this._isObserving=!1,delete this._options,Ne._shadowObservers.delete(this);for(const e of this._subObservers.values())e.disconnect();this._subObservers.clear(),this._observer.disconnect()}observe(e,t){const s=e.nodeType===Node.DOCUMENT_NODE?e:e.ownerDocument,i=null==s?void 0:s.defaultView;s&&i&&(Ne._overrideAttachShadow(i),Ne._shadowObservers.add(this),this._root=e,this._options=t,this._isObserving=!0,this._observer.observe(e,t),this._walkShadows(e))}_walkShadows(e,t){const s=e.nodeType===Node.DOCUMENT_NODE?e:e.ownerDocument;if(s){if(e===s)e=s.body;else{const t=e.shadowRoot;if(t)return void this._addSubObserver(t)}s.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{if(e.nodeType===Node.ELEMENT_NODE)if(t){const t=this._subObservers.get(e);t&&(t.disconnect(),this._subObservers.delete(e))}else{const t=e.shadowRoot;t&&this._addSubObserver(t)}return NodeFilter.FILTER_SKIP}}).nextNode()}}takeRecords(){const e=this._observer.takeRecords();for(const t of this._subObservers.values())e.push(...t.takeRecords());return e}}Ne._shadowObservers=new Set;class Le{constructor(e){this.keyboardNavigation=e.keyboardNavigation,this.focusedElement=e.focusedElement,this.focusable=e.focusable,this.root=e.root,this.uncontrolled=e.uncontrolled,this.core=e}}class qe{constructor(e,t){var s,i;this._forgetMemorizedElements=[],this._wrappers=new Set,this._initQueue=[],this._version="8.5.0",this._noop=!1,this.getWindow=()=>{if(!this._win)throw new Error("Using disposed Tabster.");return this._win},this._storage=function(e){const t=e.__tabsterInstanceContext;return new((null==t?void 0:t.basics.WeakMap)||WeakMap)}(e),this._win=e;const r=this.getWindow;(null==t?void 0:t.DOMAPI)&&function(e){for(const t of Object.keys(e))S[t]=e[t]}({...t.DOMAPI}),this.keyboardNavigation=new Ee(r),this.focusedElement=new be(this,r),this.focusable=new ue(this),this.root=new ae(this,null==t?void 0:t.autoRoot),this.uncontrolled=new De((null==t?void 0:t.checkUncontrolledCompletely)||(null==t?void 0:t.checkUncontrolledTrappingFocus)),this.controlTab=null===(s=null==t?void 0:t.controlTab)||void 0===s||s,this.rootDummyInputs=!!(null==t?void 0:t.rootDummyInputs),this._dummyObserver=new Z(r),this.getParent=null!==(i=null==t?void 0:t.getParent)&&void 0!==i?i:S.getParentNode,this.internal={stopObserver:()=>{this._unobserve&&(this._unobserve(),delete this._unobserve)},resumeObserver:e=>{if(!this._unobserve){const t=r().document;this._unobserve=function(e,t,s,i){if("undefined"==typeof MutationObserver)return()=>{};const r=t.getWindow;let o;function a(t,s){o||(o=M(r).elementByUId),c(t,s);const i=U(e,t,(e=>c(e,s)));if(i)for(;i.nextNode(););}function c(e,i){var a;if(!e.getAttribute)return NodeFilter.FILTER_SKIP;const c=e.__tabsterElementUID;return c&&o&&(i?delete o[c]:null!==(a=o[c])&&void 0!==a||(o[c]=new N(r,e))),(d(t,e)||e.hasAttribute(n))&&s(t,e,i),NodeFilter.FILTER_SKIP}const u=S.createMutationObserver((e=>{var i,r,o,c,u;const l=new Set;for(const u of e){const e=u.target,h=u.removedNodes,d=u.addedNodes;if("attributes"===u.type)u.attributeName===n&&(l.has(e)||s(t,e));else{for(let s=0;s<h.length;s++){const n=h[s];l.add(n),a(n,!0),null===(r=(i=t._dummyObserver).domChanged)||void 0===r||r.call(i,e)}for(let s=0;s<d.length;s++)a(d[s]),null===(c=(o=t._dummyObserver).domChanged)||void 0===c||c.call(o,e)}}l.clear(),null===(u=t.modalizer)||void 0===u||u.hiddenUpdate()}));return i&&a(r().document.body),u.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[n]}),()=>{u.disconnect()}}(t,this,f,e)}}},q(r),this.queueInit((()=>{this.internal.resumeObserver(!0)}))}_mergeProps(e){var t;e&&(this.getParent=null!==(t=e.getParent)&&void 0!==t?t:this.getParent)}createTabster(e,t){const s=new Le(this);return e||this._wrappers.add(s),this._mergeProps(t),s}disposeTabster(e,t){t?this._wrappers.clear():this._wrappers.delete(e),0===this._wrappers.size&&this.dispose()}dispose(){var e,t,s,i,n,r,o,a;this.internal.stopObserver();const c=this._win;null==c||c.clearTimeout(this._initTimer),delete this._initTimer,this._initQueue=[],this._forgetMemorizedElements=[],c&&this._forgetMemorizedTimer&&(c.clearTimeout(this._forgetMemorizedTimer),delete this._forgetMemorizedTimer),null===(e=this.outline)||void 0===e||e.dispose(),null===(t=this.crossOrigin)||void 0===t||t.dispose(),null===(s=this.deloser)||void 0===s||s.dispose(),null===(i=this.groupper)||void 0===i||i.dispose(),null===(n=this.mover)||void 0===n||n.dispose(),null===(r=this.modalizer)||void 0===r||r.dispose(),null===(o=this.observedElement)||void 0===o||o.dispose(),null===(a=this.restorer)||void 0===a||a.dispose(),this.keyboardNavigation.dispose(),this.focusable.dispose(),this.focusedElement.dispose(),this.root.dispose(),this._dummyObserver.dispose(),function(e){const t=M(e);t.fakeWeakRefsStarted=!1,t.fakeWeakRefsTimer&&(e().clearTimeout(t.fakeWeakRefsTimer),t.fakeWeakRefsTimer=void 0,t.fakeWeakRefs=[])}(this.getWindow),z(this.getWindow),this._storage=new WeakMap,this._wrappers.clear(),c&&(function(e){const t=e.__tabsterInstanceContext;t&&(t.elementByUId={},delete t.WeakRef,t.containerBoundingRectCache={},t.containerBoundingRectCacheTimer&&e.clearTimeout(t.containerBoundingRectCacheTimer),t.fakeWeakRefsTimer&&e.clearTimeout(t.fakeWeakRefsTimer),t.fakeWeakRefs=[],delete e.__tabsterInstanceContext)}(c),delete c.__tabsterInstance,delete this._win)}storageEntry(e,t){const s=this._storage;let i=s.get(e);return i?!1===t&&0===Object.keys(i).length&&s.delete(e):!0===t&&(i={},s.set(e,i)),i}forceCleanup(){this._win&&(this._forgetMemorizedElements.push(this._win.document.body),this._forgetMemorizedTimer||(this._forgetMemorizedTimer=this._win.setTimeout((()=>{delete this._forgetMemorizedTimer;for(let e=this._forgetMemorizedElements.shift();e;e=this._forgetMemorizedElements.shift())z(this.getWindow,e),be.forgetMemorized(this.focusedElement,e)}),0),L(this.getWindow,!0)))}queueInit(e){var t;this._win&&(this._initQueue.push(e),this._initTimer||(this._initTimer=null===(t=this._win)||void 0===t?void 0:t.setTimeout((()=>{delete this._initTimer,this.drainInitQueue()}),0)))}drainInitQueue(){if(!this._win)return;const e=this._initQueue;this._initQueue=[],e.forEach((e=>e()))}}function Ue(e,t){let s=function(e){return e.__tabsterInstance}(e);return s?s.createTabster(!1,t):(s=new qe(e,t),e.__tabsterInstance=s,s.createTabster())}function je(e){const t=e.core;return t.groupper||(t.groupper=new we(t,t.getWindow)),t.groupper}function We(e){const t=e.core;return t.mover||(t.mover=new Pe(t,t.getWindow)),t.mover}function Ke(e,t,s){const i=e.core;return i.modalizer||(i.modalizer=new Fe(i,t,s)),i.modalizer}function Be(e){const t=e.core;return t.restorer||(t.restorer=new Ae(t)),t.restorer}function Qe(e,t){e.core.disposeTabster(e,t)}},3508:(e,t,s)=>{s.d(t,{A:()=>i});class i{constructor(e=[],t=n){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let e=(this.length>>1)-1;e>=0;e--)this._down(e)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:s}=this,i=t[e];for(;e>0;){const n=e-1>>1,r=t[n];if(s(i,r)>=0)break;t[e]=r,e=n}t[e]=i}_down(e){const{data:t,compare:s}=this,i=this.length>>1,n=t[e];for(;e<i;){let i=1+(e<<1),r=t[i];const o=i+1;if(o<this.length&&s(t[o],r)<0&&(i=o,r=t[o]),s(r,n)>=0)break;t[e]=r,e=i}t[e]=n}}function n(e,t){return e<t?-1:e>t?1:0}},17576:(e,t,s)=>{s.r(t),s.d(t,{__addDisposableResource:()=>A,__assign:()=>r,__asyncDelegator:()=>R,__asyncGenerator:()=>T,__asyncValues:()=>O,__await:()=>C,__awaiter:()=>p,__classPrivateFieldGet:()=>D,__classPrivateFieldIn:()=>M,__classPrivateFieldSet:()=>x,__createBinding:()=>v,__decorate:()=>a,__disposeResources:()=>L,__esDecorate:()=>u,__exportStar:()=>_,__extends:()=>n,__generator:()=>m,__importDefault:()=>P,__importStar:()=>S,__makeTemplateObject:()=>F,__metadata:()=>f,__param:()=>c,__propKey:()=>h,__read:()=>g,__rest:()=>o,__rewriteRelativeImportExtension:()=>q,__runInitializers:()=>l,__setFunctionName:()=>d,__spread:()=>y,__spreadArray:()=>E,__spreadArrays:()=>w,__values:()=>b,default:()=>U});var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])},i(e,t)};function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function s(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}var r=function(){return r=Object.assign||function(e){for(var t,s=1,i=arguments.length;s<i;s++)for(var n in t=arguments[s])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},r.apply(this,arguments)};function o(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(s[i[n]]=e[i[n]])}return s}function a(e,t,s,i){var n,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,s,o):n(t,s))||o);return r>3&&o&&Object.defineProperty(t,s,o),o}function c(e,t){return function(s,i){t(s,i,e)}}function u(e,t,s,i,n,r){function o(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var a,c=i.kind,u="getter"===c?"get":"setter"===c?"set":"value",l=!t&&e?i.static?e:e.prototype:null,h=t||(l?Object.getOwnPropertyDescriptor(l,i.name):{}),d=!1,f=s.length-1;f>=0;f--){var p={};for(var m in i)p[m]="access"===m?{}:i[m];for(var m in i.access)p.access[m]=i.access[m];p.addInitializer=function(e){if(d)throw new TypeError("Cannot add initializers after decoration has completed");r.push(o(e||null))};var v=(0,s[f])("accessor"===c?{get:h.get,set:h.set}:h[u],p);if("accessor"===c){if(void 0===v)continue;if(null===v||"object"!=typeof v)throw new TypeError("Object expected");(a=o(v.get))&&(h.get=a),(a=o(v.set))&&(h.set=a),(a=o(v.init))&&n.unshift(a)}else(a=o(v))&&("field"===c?n.unshift(a):h[u]=a)}l&&Object.defineProperty(l,i.name,h),d=!0}function l(e,t,s){for(var i=arguments.length>2,n=0;n<t.length;n++)s=i?t[n].call(e,s):t[n].call(e);return i?s:void 0}function h(e){return"symbol"==typeof e?e:"".concat(e)}function d(e,t,s){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:s?"".concat(s," ",t):t})}function f(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function p(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){e.done?n(e.value):function(e){return e instanceof s?e:new s((function(t){t(e)}))}(e.value).then(o,a)}c((i=i.apply(e,t||[])).next())}))}function m(e,t){var s,i,n,r={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(r=0)),r;)try{if(s=1,i&&(n=2&a[0]?i.return:a[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,a[1])).done)return n;switch(i=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!((n=(n=r.trys).length>0&&n[n.length-1])||6!==a[0]&&2!==a[0])){r=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){r.label=a[1];break}if(6===a[0]&&r.label<n[1]){r.label=n[1],n=a;break}if(n&&r.label<n[2]){r.label=n[2],r.ops.push(a);break}n[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e],i=0}finally{s=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}var v=Object.create?function(e,t,s,i){void 0===i&&(i=s);var n=Object.getOwnPropertyDescriptor(t,s);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,i,n)}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]};function _(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||v(t,e,s)}function b(e){var t="function"==typeof Symbol&&Symbol.iterator,s=t&&e[t],i=0;if(s)return s.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var s="function"==typeof Symbol&&e[Symbol.iterator];if(!s)return e;var i,n,r=s.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(s=r.return)&&s.call(r)}finally{if(n)throw n.error}}return o}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function w(){for(var e=0,t=0,s=arguments.length;t<s;t++)e+=arguments[t].length;var i=Array(e),n=0;for(t=0;t<s;t++)for(var r=arguments[t],o=0,a=r.length;o<a;o++,n++)i[n]=r[o];return i}function E(e,t,s){if(s||2===arguments.length)for(var i,n=0,r=t.length;n<r;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function C(e){return this instanceof C?(this.v=e,this):new C(e)}function T(e,t,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=s.apply(e,t||[]),r=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",(function(e){return function(t){return Promise.resolve(t).then(e,u)}})),i[Symbol.asyncIterator]=function(){return this},i;function o(e,t){n[e]&&(i[e]=function(t){return new Promise((function(s,i){r.push([e,t,s,i])>1||a(e,t)}))},t&&(i[e]=t(i[e])))}function a(e,t){try{!function(e){e.value instanceof C?Promise.resolve(e.value.v).then(c,u):l(r[0][2],e)}(n[e](t))}catch(e){l(r[0][3],e)}}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),r.shift(),r.length&&a(r[0][0],r[0][1])}}function R(e){var t,s;return t={},i("next"),i("throw",(function(e){throw e})),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,n){t[i]=e[i]?function(t){return(s=!s)?{value:C(e[i](t)),done:!1}:n?n(t):t}:n}}function O(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,s=e[Symbol.asyncIterator];return s?s.call(e):(e=b(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=e[s]&&function(t){return new Promise((function(i,n){!function(e,t,s,i){Promise.resolve(i).then((function(t){e({value:t,done:s})}),t)}(i,n,(t=e[s](t)).done,t.value)}))}}}function F(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var I=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},k=function(e){return k=Object.getOwnPropertyNames||function(e){var t=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[t.length]=s);return t},k(e)};function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s=k(e),i=0;i<s.length;i++)"default"!==s[i]&&v(t,e,s[i]);return I(t,e),t}function P(e){return e&&e.__esModule?e:{default:e}}function D(e,t,s,i){if("a"===s&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?i:"a"===s?i.call(e):i?i.value:t.get(e)}function x(e,t,s,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,s):n?n.value=s:t.set(e,s),s}function M(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function A(e,t,s){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var i,n;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=t[Symbol.asyncDispose]}if(void 0===i){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose],s&&(n=i)}if("function"!=typeof i)throw new TypeError("Object not disposable.");n&&(i=function(){try{n.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:i,async:s})}else s&&e.stack.push({async:!0});return t}var N="function"==typeof SuppressedError?SuppressedError:function(e,t,s){var i=new Error(s);return i.name="SuppressedError",i.error=e,i.suppressed=t,i};function L(e){function t(t){e.error=e.hasError?new N(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var s,i=0;return function n(){for(;s=e.stack.pop();)try{if(!s.async&&1===i)return i=0,e.stack.push(s),Promise.resolve().then(n);if(s.dispose){var r=s.dispose.call(s.value);if(s.async)return i|=2,Promise.resolve(r).then(n,(function(e){return t(e),n()}))}else i|=1}catch(e){t(e)}if(1===i)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function q(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,(function(e,s,i,n,r){return s?t?".jsx":".js":!i||n&&r?i+n+"."+r.toLowerCase()+"js":e})):e}const U={__extends:n,__assign:r,__rest:o,__decorate:a,__param:c,__esDecorate:u,__runInitializers:l,__propKey:h,__setFunctionName:d,__metadata:f,__awaiter:p,__generator:m,__createBinding:v,__exportStar:_,__values:b,__read:g,__spread:y,__spreadArrays:w,__spreadArray:E,__await:C,__asyncGenerator:T,__asyncDelegator:R,__asyncValues:O,__makeTemplateObject:F,__importStar:S,__importDefault:P,__classPrivateFieldGet:D,__classPrivateFieldSet:x,__classPrivateFieldIn:M,__addDisposableResource:A,__disposeResources:L,__rewriteRelativeImportExtension:q}},76785:(e,t,s)=>{var i=s(86326),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=i.useState,o=i.useEffect,a=i.useLayoutEffect,c=i.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!n(e,s)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var s=t(),i=r({inst:{value:s,getSnapshot:t}}),n=i[0].inst,l=i[1];return a((function(){n.value=s,n.getSnapshot=t,u(n)&&l({inst:n})}),[e,s,t]),o((function(){return u(n)&&l({inst:n}),e((function(){u(n)&&l({inst:n})}))}),[e]),c(s),s};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:l},92462:(e,t,s)=>{var i=s(86326),n=s(73634),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=n.useSyncExternalStore,a=i.useRef,c=i.useEffect,u=i.useMemo,l=i.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,s,i,n){var h=a(null);if(null===h.current){var d={hasValue:!1,value:null};h.current=d}else d=h.current;h=u((function(){function e(e){if(!c){if(c=!0,o=e,e=i(e),void 0!==n&&d.hasValue){var t=d.value;if(n(t,e))return a=t}return a=e}if(t=a,r(o,e))return t;var s=i(e);return void 0!==n&&n(t,s)?t:(o=e,a=s)}var o,a,c=!1,u=void 0===s?null:s;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,s,i,n]);var f=o(e,h[0],h[1]);return c((function(){d.hasValue=!0,d.value=f}),[f]),l(f),f}},73634:(e,t,s)=>{e.exports=s(76785)},61100:(e,t,s)=>{e.exports=s(92462)},48733:()=>{try{self["workbox:cacheable-response:7.2.0"]&&_()}catch(e){}},20200:(e,t,s)=>{s.d(t,{F:()=>n}),s(79322),s(95552),s(58312),s(76468),s(48733);class i{constructor(e={}){this._statuses=e.statuses,this._headers=e.headers}isResponseCacheable(e){let t=!0;return this._statuses&&(t=this._statuses.includes(e.status)),this._headers&&t&&(t=Object.keys(this._headers).some((t=>e.headers.get(t)===this._headers[t]))),t}}class n{constructor(e){this.cacheWillUpdate=async({response:e})=>this._cacheableResponse.isResponseCacheable(e)?e:null,this._cacheableResponse=new i(e)}}},26823:(e,t,s)=>{s.d(t,{c:()=>i}),s(36114);class i{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}},95552:(e,t,s)=>{s.d(t,{R:()=>i}),s(36114);class i extends Error{constructor(e,t){super(((e,...t)=>{let s=e;return t.length>0&&(s+=` :: ${JSON.stringify(t)}`),s})(e,t)),this.name=e,this.details=t}}},79322:(e,t,s)=>{s(95552),s(36114)},72771:(e,t,s)=>{function i(e,t){const s=new URL(e);for(const e of t)s.searchParams.delete(e);return s.href}async function n(e,t,s,n){const r=i(t.url,s);if(t.url===r)return e.match(t,n);const o=Object.assign(Object.assign({},n),{ignoreSearch:!0}),a=await e.keys(t,o);for(const t of a)if(r===i(t.url,s))return e.match(t,n)}s.d(t,{e:()=>n}),s(36114)},72973:(e,t,s)=>{s.d(t,{n:()=>r}),s(36114);const i={googleAnalytics:"googleAnalytics",precache:"precache-v2",prefix:"workbox",runtime:"runtime",suffix:"undefined"!=typeof registration?registration.scope:""},n=e=>[i.prefix,e,i.suffix].filter((e=>e&&e.length>0)).join("-"),r={updateDetails:e=>{(e=>{for(const t of Object.keys(i))e(t)})((t=>{"string"==typeof e[t]&&(i[t]=e[t])}))},getGoogleAnalyticsName:e=>e||n(i.googleAnalytics),getPrecacheName:e=>e||n(i.precache),getPrefix:()=>i.prefix,getRuntimeName:e=>e||n(i.runtime),getSuffix:()=>i.suffix}},14204:(e,t,s)=>{let i;function n(){if(void 0===i){const e=new Response("");if("body"in e)try{new Response(e.body),i=!0}catch(e){i=!1}i=!1}return i}s.d(t,{V:()=>n}),s(36114)},86555:(e,t,s)=>{function i(e){e.then((()=>{}))}s.d(t,{S:()=>i}),s(36114)},93715:(e,t,s)=>{s.d(t,{w:()=>n}),s(76468);var i=s(25922);async function n(){for(const e of i.j)await e()}s(36114)},58312:(e,t,s)=>{s.d(t,{R:()=>i}),s(36114);const i=e=>new URL(String(e),location.href).href.replace(new RegExp(`^${location.origin}`),"")},76468:(e,t,s)=>{s.d(t,{v:()=>i}),s(36114);const i=null},71037:(e,t,s)=>{function i(e){return new Promise((t=>setTimeout(t,e)))}s.d(t,{w:()=>i}),s(36114)},27209:(e,t,s)=>{function i(e,t){const s=t();return e.waitUntil(s),s}s.d(t,{a:()=>i}),s(36114)},36114:()=>{try{self["workbox:core:7.2.0"]&&_()}catch(e){}},14707:(e,t,s)=>{s.d(t,{t:()=>r});var i=s(14204),n=s(95552);async function r(e,t){let s=null;if(e.url&&(s=new URL(e.url).origin),s!==self.location.origin)throw new n.R("cross-origin-copy-response",{origin:s});const r=e.clone(),o={headers:new Headers(r.headers),status:r.status,statusText:r.statusText},a=t?t(o):o,c=(0,i.V)()?r.body:await r.blob();return new Response(c,a)}s(36114)},90128:(e,t,s)=>{s.d(t,{My:()=>n}),s(65905),s(79322);var i=s(72973);function n(e){i.n.updateDetails(e)}s(72771),s(36114),s(14204),s(86555),s(26823),s(93715),s(58312),s(76468),s(71037),s(27209),s(95552),s(14707)},25922:(e,t,s)=>{s.d(t,{j:()=>i}),s(36114);const i=new Set},65905:(e,t,s)=>{s.d(t,{$:()=>n}),s(76468),s(79322);var i=s(25922);function n(e){i.j.add(e)}s(36114)},65876:()=>{try{self["workbox:expiration:7.2.0"]&&_()}catch(e){}},75979:(e,t,s)=>{s.d(t,{V:()=>R}),s(79322);var i=s(86555),n=(s(76468),s(95552));let r,o;const a=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,h=new WeakMap;let d={get(e,t,s){if(e instanceof IDBTransaction){if("done"===t)return c.get(e);if("objectStoreNames"===t)return e.objectStoreNames||u.get(e);if("store"===t)return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return f(e[t])},set:(e,t,s)=>(e[t]=s,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function f(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,s)=>{const i=()=>{e.removeEventListener("success",n),e.removeEventListener("error",r)},n=()=>{t(f(e.result)),i()},r=()=>{s(e.error),i()};e.addEventListener("success",n),e.addEventListener("error",r)}));return t.then((t=>{t instanceof IDBCursor&&a.set(t,e)})).catch((()=>{})),h.set(t,e),t}(e);if(l.has(e))return l.get(e);const t=function(e){return"function"==typeof e?function(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function(){return o||(o=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...t){return e.apply(p(this),t),f(a.get(this))}:function(...t){return f(e.apply(p(this),t))}:function(t,...s){const i=e.call(p(this),t,...s);return u.set(i,t.sort?t.sort():[t]),f(i)}}(e):(e instanceof IDBTransaction&&function(e){if(c.has(e))return;const t=new Promise(((t,s)=>{const i=()=>{e.removeEventListener("complete",n),e.removeEventListener("error",r),e.removeEventListener("abort",r)},n=()=>{t(),i()},r=()=>{s(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",n),e.addEventListener("error",r),e.addEventListener("abort",r)}));c.set(e,t)}(e),((e,t)=>t.some((t=>e instanceof t)))(e,function(){return r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,d):e)}(e);return t!==e&&(l.set(e,t),h.set(t,e)),t}const p=e=>h.get(e),m=["get","getKey","getAll","getAllKeys","count"],v=["put","add","delete","clear"],_=new Map;function b(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(_.get(t))return _.get(t);const s=t.replace(/FromIndex$/,""),i=t!==s,n=v.includes(s);if(!(s in(i?IDBIndex:IDBObjectStore).prototype)||!n&&!m.includes(s))return;const r=async function(e,...t){const r=this.transaction(e,n?"readwrite":"readonly");let o=r.store;return i&&(o=o.index(t.shift())),(await Promise.all([o[s](...t),n&&r.done]))[0]};return _.set(t,r),r}!function(){d=(e=>({...e,get:(t,s,i)=>b(t,s)||e.get(t,s,i),has:(t,s)=>!!b(t,s)||e.has(t,s)}))(d)}(),s(65876);const g="cache-entries",y=e=>{const t=new URL(e,location.href);return t.hash="",t.href};class w{constructor(e){this._db=null,this._cacheName=e}_upgradeDb(e){const t=e.createObjectStore(g,{keyPath:"id"});t.createIndex("cacheName","cacheName",{unique:!1}),t.createIndex("timestamp","timestamp",{unique:!1})}_upgradeDbAndDeleteOldDbs(e){this._upgradeDb(e),this._cacheName&&function(e,{blocked:t}={}){const s=indexedDB.deleteDatabase(e);t&&s.addEventListener("blocked",(e=>t(e.oldVersion,e))),f(s).then((()=>{}))}(this._cacheName)}async setTimestamp(e,t){const s={url:e=y(e),timestamp:t,cacheName:this._cacheName,id:this._getId(e)},i=(await this.getDb()).transaction(g,"readwrite",{durability:"relaxed"});await i.store.put(s),await i.done}async getTimestamp(e){const t=await this.getDb(),s=await t.get(g,this._getId(e));return null==s?void 0:s.timestamp}async expireEntries(e,t){const s=await this.getDb();let i=await s.transaction(g).store.index("timestamp").openCursor(null,"prev");const n=[];let r=0;for(;i;){const s=i.value;s.cacheName===this._cacheName&&(e&&s.timestamp<e||t&&r>=t?n.push(i.value):r++),i=await i.continue()}const o=[];for(const e of n)await s.delete(g,e.id),o.push(e.url);return o}_getId(e){return this._cacheName+"|"+y(e)}async getDb(){return this._db||(this._db=await function(e,t,{blocked:s,upgrade:i,blocking:n,terminated:r}={}){const o=indexedDB.open(e,t),a=f(o);return i&&o.addEventListener("upgradeneeded",(e=>{i(f(o.result),e.oldVersion,e.newVersion,f(o.transaction),e)})),s&&o.addEventListener("blocked",(e=>s(e.oldVersion,e.newVersion,e))),a.then((e=>{r&&e.addEventListener("close",(()=>r())),n&&e.addEventListener("versionchange",(e=>n(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("workbox-expiration",1,{upgrade:this._upgradeDbAndDeleteOldDbs.bind(this)})),this._db}}class E{constructor(e,t={}){this._isRunning=!1,this._rerunRequested=!1,this._maxEntries=t.maxEntries,this._maxAgeSeconds=t.maxAgeSeconds,this._matchOptions=t.matchOptions,this._cacheName=e,this._timestampModel=new w(e)}async expireEntries(){if(this._isRunning)return void(this._rerunRequested=!0);this._isRunning=!0;const e=this._maxAgeSeconds?Date.now()-1e3*this._maxAgeSeconds:0,t=await this._timestampModel.expireEntries(e,this._maxEntries),s=await self.caches.open(this._cacheName);for(const e of t)await s.delete(e,this._matchOptions);this._isRunning=!1,this._rerunRequested&&(this._rerunRequested=!1,(0,i.S)(this.expireEntries()))}async updateTimestamp(e){await this._timestampModel.setTimestamp(e,Date.now())}async isURLExpired(e){if(this._maxAgeSeconds){const t=await this._timestampModel.getTimestamp(e),s=Date.now()-1e3*this._maxAgeSeconds;return void 0===t||t<s}return!1}async delete(){this._rerunRequested=!1,await this._timestampModel.expireEntries(1/0)}}var C=s(72973),T=(s(58312),s(65905));class R{constructor(e={}){this.cachedResponseWillBeUsed=async({event:e,request:t,cacheName:s,cachedResponse:n})=>{if(!n)return null;const r=this._isResponseDateFresh(n),o=this._getCacheExpiration(s);(0,i.S)(o.expireEntries());const a=o.updateTimestamp(t.url);if(e)try{e.waitUntil(a)}catch(e){}return r?n:null},this.cacheDidUpdate=async({cacheName:e,request:t})=>{const s=this._getCacheExpiration(e);await s.updateTimestamp(t.url),await s.expireEntries()},this._config=e,this._maxAgeSeconds=e.maxAgeSeconds,this._cacheExpirations=new Map,e.purgeOnQuotaError&&(0,T.$)((()=>this.deleteCacheAndMetadata()))}_getCacheExpiration(e){if(e===C.n.getRuntimeName())throw new n.R("expire-custom-caches-only");let t=this._cacheExpirations.get(e);return t||(t=new E(e,this._config),this._cacheExpirations.set(e,t)),t}_isResponseDateFresh(e){if(!this._maxAgeSeconds)return!0;const t=this._getDateHeaderTimestamp(e);return null===t||t>=Date.now()-1e3*this._maxAgeSeconds}_getDateHeaderTimestamp(e){if(!e.headers.has("date"))return null;const t=e.headers.get("date"),s=new Date(t).getTime();return isNaN(s)?null:s}async deleteCacheAndMetadata(){for(const[e,t]of this._cacheExpirations)await self.caches.delete(e),await t.delete();this._cacheExpirations=new Map}}},38665:()=>{try{self["workbox:precaching:7.2.0"]&&_()}catch(e){}},55068:(e,t,s)=>{s.d(t,{Up:()=>g,ok:()=>y}),s(79322);var i=s(72973),n=(s(76468),s(95552)),r=s(27209);function o(e){if(!e)throw new n.R("add-to-cache-list-unexpected-type",{entry:e});if("string"==typeof e){const t=new URL(e,location.href);return{cacheKey:t.href,url:t.href}}const{revision:t,url:s}=e;if(!s)throw new n.R("add-to-cache-list-unexpected-type",{entry:e});if(!t){const e=new URL(s,location.href);return{cacheKey:e.href,url:e.href}}const i=new URL(s,location.href),r=new URL(s,location.href);return i.searchParams.set("__WB_REVISION__",t),{cacheKey:i.href,url:r.href}}s(38665);class a{constructor(){this.updatedURLs=[],this.notUpdatedURLs=[],this.handlerWillStart=async({request:e,state:t})=>{t&&(t.originalRequest=e)},this.cachedResponseWillBeUsed=async({event:e,state:t,cachedResponse:s})=>{if("install"===e.type&&t&&t.originalRequest&&t.originalRequest instanceof Request){const e=t.originalRequest.url;s?this.notUpdatedURLs.push(e):this.updatedURLs.push(e)}return s}}}class c{constructor({precacheController:e}){this.cacheKeyWillBeUsed=async({request:e,params:t})=>{const s=(null==t?void 0:t.cacheKey)||this._precacheController.getCacheKeyForURL(e.url);return s?new Request(s,{headers:e.headers}):e},this._precacheController=e}}var u=s(14707),l=(s(58312),s(63662));class h extends l.q{constructor(e={}){e.cacheName=i.n.getPrecacheName(e.cacheName),super(e),this._fallbackToNetwork=!1!==e.fallbackToNetwork,this.plugins.push(h.copyRedirectedCacheableResponsesPlugin)}async _handle(e,t){return await t.cacheMatch(e)||(t.event&&"install"===t.event.type?await this._handleInstall(e,t):await this._handleFetch(e,t))}async _handleFetch(e,t){let s;const i=t.params||{};if(!this._fallbackToNetwork)throw new n.R("missing-precache-entry",{cacheName:this.cacheName,url:e.url});{const n=i.integrity,r=e.integrity,o=!r||r===n;s=await t.fetch(new Request(e,{integrity:"no-cors"!==e.mode?r||n:void 0})),n&&o&&"no-cors"!==e.mode&&(this._useDefaultCacheabilityPluginIfNeeded(),await t.cachePut(e,s.clone()))}return s}async _handleInstall(e,t){this._useDefaultCacheabilityPluginIfNeeded();const s=await t.fetch(e);if(!await t.cachePut(e,s.clone()))throw new n.R("bad-precaching-response",{url:e.url,status:s.status});return s}_useDefaultCacheabilityPluginIfNeeded(){let e=null,t=0;for(const[s,i]of this.plugins.entries())i!==h.copyRedirectedCacheableResponsesPlugin&&(i===h.defaultPrecacheCacheabilityPlugin&&(e=s),i.cacheWillUpdate&&t++);0===t?this.plugins.push(h.defaultPrecacheCacheabilityPlugin):t>1&&null!==e&&this.plugins.splice(e,1)}}h.defaultPrecacheCacheabilityPlugin={cacheWillUpdate:async({response:e})=>!e||e.status>=400?null:e},h.copyRedirectedCacheableResponsesPlugin={cacheWillUpdate:async({response:e})=>e.redirected?await(0,u.t)(e):e};class d{constructor({cacheName:e,plugins:t=[],fallbackToNetwork:s=!0}={}){this._urlsToCacheKeys=new Map,this._urlsToCacheModes=new Map,this._cacheKeysToIntegrities=new Map,this._strategy=new h({cacheName:i.n.getPrecacheName(e),plugins:[...t,new c({precacheController:this})],fallbackToNetwork:s}),this.install=this.install.bind(this),this.activate=this.activate.bind(this)}get strategy(){return this._strategy}precache(e){this.addToCacheList(e),this._installAndActiveListenersAdded||(self.addEventListener("install",this.install),self.addEventListener("activate",this.activate),this._installAndActiveListenersAdded=!0)}addToCacheList(e){const t=[];for(const s of e){"string"==typeof s?t.push(s):s&&void 0===s.revision&&t.push(s.url);const{cacheKey:e,url:i}=o(s),r="string"!=typeof s&&s.revision?"reload":"default";if(this._urlsToCacheKeys.has(i)&&this._urlsToCacheKeys.get(i)!==e)throw new n.R("add-to-cache-list-conflicting-entries",{firstEntry:this._urlsToCacheKeys.get(i),secondEntry:e});if("string"!=typeof s&&s.integrity){if(this._cacheKeysToIntegrities.has(e)&&this._cacheKeysToIntegrities.get(e)!==s.integrity)throw new n.R("add-to-cache-list-conflicting-integrities",{url:i});this._cacheKeysToIntegrities.set(e,s.integrity)}this._urlsToCacheKeys.set(i,e),this._urlsToCacheModes.set(i,r),t.length>0&&t.join(", ")}}install(e){return(0,r.a)(e,(async()=>{const t=new a;this.strategy.plugins.push(t);for(const[t,s]of this._urlsToCacheKeys){const i=this._cacheKeysToIntegrities.get(s),n=this._urlsToCacheModes.get(t),r=new Request(t,{integrity:i,cache:n,credentials:"same-origin"});await Promise.all(this.strategy.handleAll({params:{cacheKey:s},request:r,event:e}))}const{updatedURLs:s,notUpdatedURLs:i}=t;return{updatedURLs:s,notUpdatedURLs:i}}))}activate(e){return(0,r.a)(e,(async()=>{const e=await self.caches.open(this.strategy.cacheName),t=await e.keys(),s=new Set(this._urlsToCacheKeys.values()),i=[];for(const n of t)s.has(n.url)||(await e.delete(n),i.push(n.url));return{deletedURLs:i}}))}getURLsToCacheKeys(){return this._urlsToCacheKeys}getCachedURLs(){return[...this._urlsToCacheKeys.keys()]}getCacheKeyForURL(e){const t=new URL(e,location.href);return this._urlsToCacheKeys.get(t.href)}getIntegrityForCacheKey(e){return this._cacheKeysToIntegrities.get(e)}async matchPrecache(e){const t=e instanceof Request?e.url:e,s=this.getCacheKeyForURL(t);if(s)return(await self.caches.open(this.strategy.cacheName)).match(s)}createHandlerBoundToURL(e){const t=this.getCacheKeyForURL(e);if(!t)throw new n.R("non-precached-url",{url:e});return s=>(s.request=new Request(e),s.params=Object.assign({cacheKey:t},s.params),this.strategy.handle(s))}}let f;const p=()=>(f||(f=new d),f);var m=s(75502),v=s(93737);class _ extends v.q{constructor(e,t){super((({request:s})=>{const i=e.getURLsToCacheKeys();for(const n of function*(e,{ignoreURLParametersMatching:t=[/^utm_/,/^fbclid$/],directoryIndex:s="index.html",cleanURLs:i=!0,urlManipulation:n}={}){const r=new URL(e,location.href);r.hash="",yield r.href;const o=function(e,t=[]){for(const s of[...e.searchParams.keys()])t.some((e=>e.test(s)))&&e.searchParams.delete(s);return e}(r,t);if(yield o.href,s&&o.pathname.endsWith("/")){const e=new URL(o.href);e.pathname+=s,yield e.href}if(i){const e=new URL(o.href);e.pathname+=".html",yield e.href}if(n){const e=n({url:r});for(const t of e)yield t.href}}(s.url,t)){const t=i.get(n);if(t)return{cacheKey:t,integrity:e.getIntegrityForCacheKey(t)}}}),e.strategy)}}const b=async(e,t="-precache-")=>{const s=(await self.caches.keys()).filter((s=>s.includes(t)&&s.includes(self.registration.scope)&&s!==e));return await Promise.all(s.map((e=>self.caches.delete(e)))),s};function g(){self.addEventListener("activate",(e=>{const t=i.n.getPrecacheName();e.waitUntil(b(t).then((e=>{})))}))}function y(e,t){!function(e){p().precache(e)}(e),function(e){const t=p(),s=new _(t,e);(0,m.R)(s)}(t)}},6334:(e,t,s)=>{s.d(t,{b:()=>n}),s(79322),s(76468);var i=s(93737);s(43205);class n extends i.q{constructor(e,t,s){super((({url:t})=>{const s=e.exec(t.href);if(s&&(t.origin===location.origin||0===s.index))return s.slice(1)}),t,s)}}},93737:(e,t,s)=>{s.d(t,{q:()=>r}),s(79322);var i=s(46683),n=s(1161);s(43205);class r{constructor(e,t,s=i.l){this.handler=(0,n.q)(t),this.match=e,this.method=s}setCatchHandler(e){this.catchHandler=(0,n.q)(e)}}},83507:(e,t,s)=>{s.d(t,{I:()=>o}),s(79322),s(58312);var i=s(46683),n=(s(76468),s(1161)),r=s(95552);s(43205);class o{constructor(){this._routes=new Map,this._defaultHandlerMap=new Map}get routes(){return this._routes}addFetchListener(){self.addEventListener("fetch",(e=>{const{request:t}=e,s=this.handleRequest({request:t,event:e});s&&e.respondWith(s)}))}addCacheListener(){self.addEventListener("message",(e=>{if(e.data&&"CACHE_URLS"===e.data.type){const{payload:t}=e.data,s=Promise.all(t.urlsToCache.map((t=>{"string"==typeof t&&(t=[t]);const s=new Request(...t);return this.handleRequest({request:s,event:e})})));e.waitUntil(s),e.ports&&e.ports[0]&&s.then((()=>e.ports[0].postMessage(!0)))}}))}handleRequest({request:e,event:t}){const s=new URL(e.url,location.href);if(!s.protocol.startsWith("http"))return;const i=s.origin===location.origin,{params:n,route:r}=this.findMatchingRoute({event:t,request:e,sameOrigin:i,url:s});let o=r&&r.handler;const a=e.method;if(!o&&this._defaultHandlerMap.has(a)&&(o=this._defaultHandlerMap.get(a)),!o)return;let c;try{c=o.handle({url:s,request:e,event:t,params:n})}catch(e){c=Promise.reject(e)}const u=r&&r.catchHandler;return c instanceof Promise&&(this._catchHandler||u)&&(c=c.catch((async i=>{if(u)try{return await u.handle({url:s,request:e,event:t,params:n})}catch(e){e instanceof Error&&(i=e)}if(this._catchHandler)return this._catchHandler.handle({url:s,request:e,event:t});throw i}))),c}findMatchingRoute({url:e,sameOrigin:t,request:s,event:i}){const n=this._routes.get(s.method)||[];for(const r of n){let n;const o=r.match({url:e,sameOrigin:t,request:s,event:i});if(o)return n=o,(Array.isArray(n)&&0===n.length||o.constructor===Object&&0===Object.keys(o).length||"boolean"==typeof o)&&(n=void 0),{route:r,params:n}}return{}}setDefaultHandler(e,t=i.l){this._defaultHandlerMap.set(t,(0,n.q)(e))}setCatchHandler(e){this._catchHandler=(0,n.q)(e)}registerRoute(e){this._routes.has(e.method)||this._routes.set(e.method,[]),this._routes.get(e.method).push(e)}unregisterRoute(e){if(!this._routes.has(e.method))throw new r.R("unregister-route-but-not-found-with-method",{method:e.method});const t=this._routes.get(e.method).indexOf(e);if(!(t>-1))throw new r.R("unregister-route-route-not-registered");this._routes.get(e.method).splice(t,1)}}},43205:()=>{try{self["workbox:routing:7.2.0"]&&_()}catch(e){}},85612:(e,t,s)=>{s.d(t,{R6:()=>i.R}),s(79322),s(76468),s(93737),s(43205),s(6334);var i=s(75502);s(83507),s(77947)},75502:(e,t,s)=>{s.d(t,{R:()=>a}),s(76468);var i=s(95552),n=s(93737),r=s(6334),o=s(77947);function a(e,t,s){let a;if("string"==typeof e){const i=new URL(e,location.href);a=new n.q((({url:e})=>e.href===i.href),t,s)}else if(e instanceof RegExp)a=new r.b(e,t,s);else if("function"==typeof e)a=new n.q(e,t,s);else{if(!(e instanceof n.q))throw new i.R("unsupported-route-type",{moduleName:"workbox-routing",funcName:"registerRoute",paramName:"capture"});a=e}return(0,o.G)().registerRoute(a),a}s(43205)},46683:(e,t,s)=>{s.d(t,{l:()=>i}),s(43205);const i="GET"},77947:(e,t,s)=>{s.d(t,{G:()=>r});var i=s(83507);let n;s(43205);const r=()=>(n||(n=new i.I,n.addFetchListener(),n.addCacheListener()),n)},1161:(e,t,s)=>{s.d(t,{q:()=>i}),s(79322),s(43205);const i=e=>e&&"object"==typeof e?e:{handle:e}},63662:(e,t,s)=>{s.d(t,{q:()=>o});var i=s(72973),n=s(95552),r=(s(76468),s(58312),s(76344));s(47484);class o{constructor(e={}){this.cacheName=i.n.getRuntimeName(e.cacheName),this.plugins=e.plugins||[],this.fetchOptions=e.fetchOptions,this.matchOptions=e.matchOptions}handle(e){const[t]=this.handleAll(e);return t}handleAll(e){e instanceof FetchEvent&&(e={event:e,request:e.request});const t=e.event,s="string"==typeof e.request?new Request(e.request):e.request,i=new r.s(this,{event:t,request:s,params:"params"in e?e.params:void 0}),n=this._getResponse(i,s,t);return[n,this._awaitComplete(n,i,s,t)]}async _getResponse(e,t,s){let i;await e.runCallbacks("handlerWillStart",{event:s,request:t});try{if(i=await this._handle(t,e),!i||"error"===i.type)throw new n.R("no-response",{url:t.url})}catch(n){if(n instanceof Error)for(const r of e.iterateCallbacks("handlerDidError"))if(i=await r({error:n,event:s,request:t}),i)break;if(!i)throw n}for(const n of e.iterateCallbacks("handlerWillRespond"))i=await n({event:s,request:t,response:i});return i}async _awaitComplete(e,t,s,i){let n,r;try{n=await e}catch(r){}try{await t.runCallbacks("handlerDidRespond",{event:i,request:s,response:n}),await t.doneWaiting()}catch(e){e instanceof Error&&(r=e)}if(await t.runCallbacks("handlerDidComplete",{event:i,request:s,response:n,error:r}),t.destroy(),r)throw r}}},76344:(e,t,s)=>{s.d(t,{s:()=>l}),s(79322);var i=s(72771),n=s(26823),r=s(93715),o=s(58312),a=(s(76468),s(71037)),c=s(95552);function u(e){return"string"==typeof e?new Request(e):e}s(47484);class l{constructor(e,t){this._cacheKeys={},Object.assign(this,t),this.event=t.event,this._strategy=e,this._handlerDeferred=new n.c,this._extendLifetimePromises=[],this._plugins=[...e.plugins],this._pluginStateMap=new Map;for(const e of this._plugins)this._pluginStateMap.set(e,{});this.event.waitUntil(this._handlerDeferred.promise)}async fetch(e){const{event:t}=this;let s=u(e);if("navigate"===s.mode&&t instanceof FetchEvent&&t.preloadResponse){const e=await t.preloadResponse;if(e)return e}const i=this.hasCallback("fetchDidFail")?s.clone():null;try{for(const e of this.iterateCallbacks("requestWillFetch"))s=await e({request:s.clone(),event:t})}catch(e){if(e instanceof Error)throw new c.R("plugin-error-request-will-fetch",{thrownErrorMessage:e.message})}const n=s.clone();try{let e;e=await fetch(s,"navigate"===s.mode?void 0:this._strategy.fetchOptions);for(const s of this.iterateCallbacks("fetchDidSucceed"))e=await s({event:t,request:n,response:e});return e}catch(e){throw i&&await this.runCallbacks("fetchDidFail",{error:e,event:t,originalRequest:i.clone(),request:n.clone()}),e}}async fetchAndCachePut(e){const t=await this.fetch(e),s=t.clone();return this.waitUntil(this.cachePut(e,s)),t}async cacheMatch(e){const t=u(e);let s;const{cacheName:i,matchOptions:n}=this._strategy,r=await this.getCacheKey(t,"read"),o=Object.assign(Object.assign({},n),{cacheName:i});s=await caches.match(r,o);for(const e of this.iterateCallbacks("cachedResponseWillBeUsed"))s=await e({cacheName:i,matchOptions:n,cachedResponse:s,request:r,event:this.event})||void 0;return s}async cachePut(e,t){const s=u(e);await(0,a.w)(0);const n=await this.getCacheKey(s,"write");if(!t)throw new c.R("cache-put-with-no-response",{url:(0,o.R)(n.url)});const l=await this._ensureResponseSafeToCache(t);if(!l)return!1;const{cacheName:h,matchOptions:d}=this._strategy,f=await self.caches.open(h),p=this.hasCallback("cacheDidUpdate"),m=p?await(0,i.e)(f,n.clone(),["__WB_REVISION__"],d):null;try{await f.put(n,p?l.clone():l)}catch(e){if(e instanceof Error)throw"QuotaExceededError"===e.name&&await(0,r.w)(),e}for(const e of this.iterateCallbacks("cacheDidUpdate"))await e({cacheName:h,oldResponse:m,newResponse:l.clone(),request:n,event:this.event});return!0}async getCacheKey(e,t){const s=`${e.url} | ${t}`;if(!this._cacheKeys[s]){let i=e;for(const e of this.iterateCallbacks("cacheKeyWillBeUsed"))i=u(await e({mode:t,request:i,event:this.event,params:this.params}));this._cacheKeys[s]=i}return this._cacheKeys[s]}hasCallback(e){for(const t of this._strategy.plugins)if(e in t)return!0;return!1}async runCallbacks(e,t){for(const s of this.iterateCallbacks(e))await s(t)}*iterateCallbacks(e){for(const t of this._strategy.plugins)if("function"==typeof t[e]){const s=this._pluginStateMap.get(t),i=i=>{const n=Object.assign(Object.assign({},i),{state:s});return t[e](n)};yield i}}waitUntil(e){return this._extendLifetimePromises.push(e),e}async doneWaiting(){let e;for(;e=this._extendLifetimePromises.shift();)await e}destroy(){this._handlerDeferred.resolve(null)}async _ensureResponseSafeToCache(e){let t=e,s=!1;for(const e of this.iterateCallbacks("cacheWillUpdate"))if(t=await e({request:this.request,response:t,event:this.event})||void 0,s=!0,!t)break;return s||t&&200!==t.status&&(t=void 0),t}}},47484:()=>{try{self["workbox:strategies:7.2.0"]&&_()}catch(e){}},74229:(e,t,s)=>{s.d(t,{h6:()=>r,kV:()=>a}),s(79322),s(76468);var i=s(95552),n=s(63662);s(58312),s(47484);class r extends n.q{async _handle(e,t){let s,n=await t.cacheMatch(e);if(n);else try{n=await t.fetchAndCachePut(e)}catch(e){e instanceof Error&&(s=e)}if(!n)throw new i.R("no-response",{url:e.url,error:s});return n}}const o={cacheWillUpdate:async({response:e})=>200===e.status||0===e.status?e:null};s(71037);class a extends n.q{constructor(e={}){super(e),this.plugins.some((e=>"cacheWillUpdate"in e))||this.plugins.unshift(o)}async _handle(e,t){const s=t.fetchAndCachePut(e).catch((()=>{}));t.waitUntil(s);let n,r=await t.cacheMatch(e);if(r);else try{r=await s}catch(e){e instanceof Error&&(n=e)}if(!r)throw new i.R("no-response",{url:e.url,error:n});return r}}s(76344)},41449:(e,t,s)=>{s.d(t,{vt:()=>h});var i=s(55260),n=s(86326),r=s(61100);const{useDebugValue:o}=n,{useSyncExternalStoreWithSelector:a}=r;let c=!1;const u=e=>e,l=e=>{const t="function"==typeof e?(0,i.y)(e):e,s=(e,s)=>function(e,t=u,s){s&&!c&&(c=!0);const i=a(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,s);return o(i),i}(t,e,s);return Object.assign(s,t),s},h=e=>e?l(e):l},55260:(e,t,s)=>{s.d(t,{y:()=>n});const i=e=>{let t;const s=new Set,i=(e,i)=>{const n="function"==typeof e?e(t):e;if(!Object.is(n,t)){const e=t;t=(null!=i?i:"object"!=typeof n||null===n)?n:Object.assign({},t,n),s.forEach((s=>s(t,e)))}},n=()=>t,r={setState:i,getState:n,getInitialState:()=>o,subscribe:e=>(s.add(e),()=>s.delete(e)),destroy:()=>{s.clear()}},o=t=e(i,n,r);return r},n=e=>e?i(e):i}}]);
//# sourceMappingURL=vendors-866ab763.61f60e02bac716fb24ae.js.map